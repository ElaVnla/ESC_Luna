import{r as q,cp as Z,co as J}from"./index-Zv8orDLd.js";const ot=()=>{const[r,a]=q.useState(window.outerWidth),[l,o]=q.useState(window.innerHeight);return q.useEffect(()=>{const b=()=>{a(window.outerWidth),o(window.innerHeight)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),{width:r,height:l}};var k={},C={},S={},$;function K(){if($)return S;$=1,Object.defineProperty(S,"__esModule",{value:!0}),S.unlisten=S.listen=void 0;const r=[],a=[];function l(e){return{el:e,callbacks:{},realCallbacks:{},realListenersCnt:0}}function o(e,n,s){if(e.callbacks[n]){e.callbacks[n].indexOf(s)===-1&&e.callbacks[n].push(s);return}e.callbacks[n]=[s],e.realCallbacks[n]=t=>{for(let i=0,d=e.callbacks[n].length;i<d;i+=1)e.callbacks[n][i](t)},e.el.addEventListener(n,e.realCallbacks[n]),e.realListenersCnt+=1}function b(e,n,s){if(!e.callbacks[n])return;const t=e.callbacks[n].indexOf(s);t!==-1&&(e.callbacks[n].splice(t,1),!(e.callbacks[n].length>0)&&(e.el.removeEventListener(n,e.realCallbacks[n]),delete e.callbacks[n],delete e.realCallbacks[n],e.realListenersCnt-=1))}function h(e,n,s){let t=r.indexOf(e);t===-1&&(t=r.length,r.push(e),a.push(l(e)));const i=a[t];o(i,n,s)}function u(e,n,s){const t=r.indexOf(e);if(t===-1)return;const i=a[t];b(i,n,s),!(i.realListenersCnt>0)&&(r.splice(t,1),a.splice(t,1))}function y(e,n,s){for(let t=0,i=n.length;t<i;t+=1)h(e,n[t],s)}S.listen=y;function g(e,n,s){for(let t=0,i=n.length;t<i;t+=1)u(e,n[t],s)}return S.unlisten=g,S}var F={},z;function Q(){if(z)return F;z=1,Object.defineProperty(F,"__esModule",{value:!0});const r={};typeof document<"u"&&(r.body=document.body,r.window=window,r.document=document);const a=(()=>{if(typeof document<"u"&&document.body){const o=document.body;return typeof o.matches=="function"?"matches":typeof o.webkitMatchesSelector=="function"?"webkitMatchesSelector":typeof o.mozMatchesSelector=="function"?"mozMatchesSelector":typeof o.msMatchesSelector=="function"?"msMatchesSelector":typeof o.oMatchesSelector=="function"?"oMatchesSelector":null}return null})();function l(o,b){if(!o)return null;if(r.hasOwnProperty(o))return r[o];if(o[0]==="#")return document.getElementById(o.slice(1));if(a===null)return null;let h=b;for(;h=h.parentElement;)if(h[a](o))return h||null;return null}return F.default=l,F}var T={},D;function X(){if(D)return T;D=1,Object.defineProperty(T,"__esModule",{value:!0});function r(a){do{const l=window.getComputedStyle(a);if(l.transform!=="none"||l.webkitTransform!=="none")return a;a=a.parentElement||a.parentNode}while(a!==null&&a.nodeType===1);return null}return T.default=r,T}var w={},N;function Y(){if(N)return w;N=1,Object.defineProperty(w,"__esModule",{value:!0}),w.isIntersecting=w.getRect=w.infiniteRect=void 0,w.infiniteRect={top:-1/0,bottom:1/0,height:1/0,left:-1/0,right:1/0,width:1/0};function r(l){return l&&"getBoundingClientRect"in l&&typeof l.getBoundingClientRect=="function"?l.getBoundingClientRect():l===window||l===document?{top:0,left:0,bottom:window.innerHeight,height:window.innerHeight,width:window.innerWidth,right:window.innerWidth}:{top:0,left:0,right:0,bottom:0,width:0,height:0}}w.getRect=r;function a(l,o,b,h){const u=l.top+b,y=l.bottom+h;return u>=o.top&&u<=o.bottom||y>=o.top&&y<=o.bottom||y>=o.bottom&&u<=o.top}return w.isIntersecting=a,w}var U;function A(){if(U)return C;U=1;var r=C&&C.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(C,"__esModule",{value:!0});const a=Z(),l=K(),o=r(Q()),b=r(X()),h=Y(),u=(s,t)=>{const{bottomOffset:i,hideOnBoundaryHit:d}=t,{top:c,height:m,width:f,boundaryBottom:p}=s;return d||c+m+i<p?{top:`${c}px`,width:`${f}px`,position:"fixed"}:!d&&p>0?{top:`${p-m-i}px`,width:`${f}px`,position:"fixed"}:{width:`${f}px`,bottom:`${i}px`,position:"absolute"}},y=(s,t)=>{const{bottomOffset:i,hideOnBoundaryHit:d}=t,{bottom:c,height:m,width:f,boundaryTop:p}=s;return d||c-m-i>p?{width:`${f}px`,top:`${c-m}px`,position:"fixed"}:{width:`${f}px`,top:`${i}px`,position:"absolute"}},g=(s,t,i)=>(s==="top"?u:y)(i,t),e=(s,t)=>{const i=s.wrapperStyles,d=t.wrapperStyles;if(s.isFixed!==t.isFixed||s.height!==t.height||!i&&d||i&&!d)return!1;if(!d)return!0;for(const c in i)if(i.hasOwnProperty(c)&&i[c]!==d[c])return!1;return!0};class n extends a.Component{constructor(){super(...arguments),this.holderEl=null,this.wrapperEl=null,this.el=null,this.scrollEl=null,this.boundaryEl=null,this.disabled=!1,this.checkPositionIntervalId=null,this.lastMinHeight=null,this.state={isFixed:!1,wrapperStyles:void 0,holderStyles:void 0,height:0},this.holderRef=t=>{t!==this.holderEl&&(this.holderEl=t)},this.wrapperRef=t=>{t!==this.wrapperEl&&(this.wrapperEl=t,this.updateScrollEl(),this.updateBoundaryEl())},this.checkPosition=()=>{const{holderEl:t,wrapperEl:i,boundaryEl:d,scrollEl:c,disabled:m}=this;if(!c||!t||!i){console.error("Missing required elements:",{scrollEl:c,holderEl:t,wrapperEl:i});return}const{mode:f,onFixedToggle:p,offsetTransforms:I,isIOSFixEnabled:x,dontUpdateHolderHeightWhenSticky:j}=this.props;if(m){this.state.isFixed&&this.setState({isFixed:!1,wrapperStyles:{}});return}if(!t.getBoundingClientRect||!i.getBoundingClientRect)return;const H=t.getBoundingClientRect(),v=i.getBoundingClientRect(),P=d?(0,h.getRect)(d):h.infiniteRect,R=(0,h.getRect)(c),E=this.isFixed(H,v,P,R);let O=null;if(I&&E&&c instanceof HTMLElement){const W=(0,b.default)(c);W&&(O=(0,h.getRect)(W))}const M=this.state.isFixed&&j&&this.lastMinHeight?this.lastMinHeight:v.height;this.lastMinHeight=M;const B=x?{transform:"translateZ(0)",WebkitTransform:"translateZ(0)"}:void 0,L={isFixed:E,height:v.height,holderStyles:{minHeight:`${M}px`},wrapperStyles:E?Object.assign(Object.assign({},B),g(f,this.props,{boundaryTop:f==="bottom"?P.top:0,boundaryBottom:f==="top"?P.bottom:0,top:f==="top"?R.top-(O?O.top:0):0,bottom:f==="bottom"?R.bottom-(O?O.bottom:0):0,width:H.width,height:v.height})):B};E!==this.state.isFixed&&p&&typeof p=="function"&&p(E),e(this.state,L)||this.setState(L)}}isFixed(t,i,d,c){const{hideOnBoundaryHit:m,bottomOffset:f,topOffset:p,mode:I}=this.props;if(this.disabled||m&&d&&!(0,h.isIntersecting)(d,c,p,f))return!1;const x=m?i.height+f:0;return I==="top"?t.top+p<c.top&&c.top+x<=d.bottom:t.bottom-p>c.bottom&&c.bottom-x>=d.top}updateScrollEl(){if(!this.wrapperEl)return;this.scrollEl&&((0,l.unlisten)(this.scrollEl,["scroll"],this.checkPosition),this.scrollEl=null);const{scrollElement:t}=this.props;typeof t=="string"?this.scrollEl=(0,o.default)(t,this.wrapperEl):this.scrollEl=t,this.scrollEl?(0,l.listen)(this.scrollEl,["scroll"],this.checkPosition):console.error("Cannot find scrollElement "+(typeof t=="string"?t:"unknown"))}updateBoundaryEl(){if(!this.wrapperEl)return;const{boundaryElement:t}=this.props;this.boundaryEl=(0,o.default)(t,this.wrapperEl),(this.boundaryEl===window||this.boundaryEl===document)&&(this.boundaryEl=null)}initialize(){const{positionRecheckInterval:t,disabled:i}=this.props;this.disabled=i,(0,l.listen)(window,["scroll","resize","pageshow","load"],this.checkPosition),this.checkPosition(),t&&(this.checkPositionIntervalId=setInterval(this.checkPosition,t))}componentDidUpdate({scrollElement:t,boundaryElement:i,disabled:d}){(t!==this.props.scrollElement||this.scrollEl===null)&&this.updateScrollEl(),(i!==this.props.boundaryElement||this.boundaryEl===null)&&this.updateBoundaryEl(),d!==this.props.disabled&&(this.disabled=this.props.disabled,this.checkPosition())}componentDidMount(){this.initialize(),this.wrapperEl===null&&console.error("Wrapper element is missing, please make sure that you have assigned refs correctly")}componentWillUnmount(){this.scrollEl&&(0,l.unlisten)(this.scrollEl,["scroll"],this.checkPosition),(0,l.unlisten)(window,["scroll","resize","pageshow","load"],this.checkPosition),this.boundaryEl=null,this.scrollEl=null,this.checkPositionIntervalId&&clearInterval(this.checkPositionIntervalId)}render(){const{holderRef:t,wrapperRef:i}=this,{isFixed:d,wrapperStyles:c,holderStyles:m}=this.state;return this.props.children({holderRef:t,wrapperRef:i,isFixed:d,wrapperStyles:c,holderStyles:m})}}return n.defaultProps={mode:"top",topOffset:0,bottomOffset:0,isIOSFixEnabled:!0,offsetTransforms:!0,disabled:!1,onFixedToggle:void 0,boundaryElement:void 0,hideOnBoundaryHit:!0,scrollElement:"window",dontUpdateHolderHeightWhenSticky:!1},C.default=n,C}var _={},V;function tt(){return V||(V=1,function(r){var a=_&&_.__rest||function(u,y){var g={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&y.indexOf(e)<0&&(g[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(u);n<e.length;n++)y.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(u,e[n])&&(g[e[n]]=u[e[n]]);return g},l=_&&_.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0}),r.defaultProps=void 0;const o=l(Z()),b=l(A());r.defaultProps=Object.assign(Object.assign({},b.default.defaultProps),{stickyClassName:"sticky",wrapperClassName:"",stickyStyle:{}});function h(u){const y=Object.assign(Object.assign({},r.defaultProps),u),{mode:g,onFixedToggle:e,hideOnBoundaryHit:n,offsetTransforms:s,disabled:t,boundaryElement:i,scrollElement:d,bottomOffset:c,topOffset:m,positionRecheckInterval:f,children:p,isIOSFixEnabled:I,dontUpdateHolderHeightWhenSticky:x,wrapperClassName:j,stickyClassName:H,stickyStyle:v}=y,P=a(y,["mode","onFixedToggle","hideOnBoundaryHit","offsetTransforms","disabled","boundaryElement","scrollElement","bottomOffset","topOffset","positionRecheckInterval","children","isIOSFixEnabled","dontUpdateHolderHeightWhenSticky","wrapperClassName","stickyClassName","stickyStyle"]);return o.default.createElement(b.default,{mode:g,onFixedToggle:e,hideOnBoundaryHit:n,offsetTransforms:s,disabled:t,boundaryElement:i,scrollElement:d,bottomOffset:c,topOffset:m,positionRecheckInterval:f,isIOSFixEnabled:I,dontUpdateHolderHeightWhenSticky:x},({isFixed:R,wrapperStyles:E,wrapperRef:O,holderStyles:M,holderRef:B})=>o.default.createElement("div",Object.assign({},P,{ref:B,style:M}),o.default.createElement("div",Object.assign({},P,{className:`${j} ${R?H:""}`,style:R?Object.assign(Object.assign({},E),v):E,ref:O}),p)))}r.default=h}(_)),_}var G;function et(){if(G)return k;G=1;var r=k&&k.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(k,"__esModule",{value:!0}),k.RenderPropSticky=void 0;const a=r(A());k.RenderPropSticky=a.default;const l=r(tt());return k.default=l.default,k}var it=et();const st=J(it);export{st as S,ot as u};
