import{dT as t,r as k,dU as v,b as w,dV as C,by as F,j as e,E as h,L as n,c9 as S,H as I,I as P}from"./index-CJzBCe4p.js";import{P as L}from"./PasswordFormInput-DVRpvAmk.js";import{T as E}from"./TextFormInput-xZ9fvEEG.js";import{F as B}from"./index-B3n-bNeF.js";import{c as T,a as x,o as $}from"./index.esm-BjYrSiQX.js";import{u as H}from"./index.esm-C-xeldWZ.js";import{s as R}from"./signin-DLuDMcs4.js";import{l as q}from"./logo-icon-LT9nJ4JU.js";import"./Feedback-jmF2vASQ.js";import"./FormLabel-Bkl4epJ5.js";import"./warning-LG9o13RO.js";import"./FormContext-CTTW5aUN.js";function z(){return{get:t.get,post:t.post,patch:t.patch,put:t.put,delete:t.delete}}const G=z(),U=()=>{const[a,i]=k.useState(!1),o=v(),{saveSession:u}=w(),[b]=C(),{showNotification:l}=F(),g=T({email:x().email("Please enter a valid email").required("Please enter your email"),password:x().required("Please enter your password")}),{control:f,handleSubmit:j}=H({resolver:$(g),defaultValues:{email:"user@email.com",password:"password"}}),N=()=>{const r=b.get("redirectTo");o(r||"/hotels/home")},y=j(async r=>{var c,m,d,p;try{const s=await G.post("/login",r);s.data.token&&(u({...s.data??{},token:s.data.token}),N(),l({message:"Successfully logged in. Redirecting....",type:"success"}))}catch(s){(m=(c=s.response)==null?void 0:c.data)!=null&&m.error&&l({message:`${(p=(d=s.response)==null?void 0:d.data)==null?void 0:p.error}`,type:"error"})}finally{i(!1)}});return{loading:a,login:y,control:f}},Z=()=>{const{control:a,loading:i,login:o}=U();return e.jsxs(e.Fragment,{children:[e.jsxs(h,{lg:6,className:"d-flex align-items-center order-2 order-lg-1",children:[e.jsx("div",{className:"p-3 p-lg-5",children:e.jsx("img",{src:R})}),e.jsx("div",{className:"vr opacity-1 d-none d-lg-block"})]}),e.jsx(h,{lg:6,className:"order-1",children:e.jsxs("div",{className:"p-4 p-sm-7",children:[e.jsx(n,{to:"/",children:e.jsx("img",{className:"h-50px mb-4",src:q,alt:"logo"})}),e.jsx("h1",{className:"mb-2 h3",children:"Welcome back"}),e.jsxs("p",{className:"mb-0",children:["New here?",e.jsx(n,{to:"/auth/sign-up",children:" Create an account"})]}),e.jsxs("form",{onSubmit:o,className:"mt-4 text-start",children:[e.jsx(E,{name:"email",containerClass:"mb-3",label:"Enter email id",type:"email",control:a}),e.jsx(L,{name:"password",containerClass:"mb-3",label:"Enter password",control:a}),e.jsxs("div",{className:"mb-3 d-sm-flex justify-content-between",children:[e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"rememberCheck"}),e.jsx("label",{className:"form-check-label",htmlFor:"rememberCheck",children:"Remember me?"})]}),e.jsx(n,{to:"/auth/forgot-password",children:"Forgot password?"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"btn btn-primary w-100 mb-0",disabled:i,children:"Login"})}),e.jsxs("div",{className:"position-relative my-4",children:[e.jsx("hr",{}),e.jsx("p",{className:"small bg-mode position-absolute top-50 start-50 translate-middle px-2",children:"Or sign in with"})]}),e.jsxs("div",{className:"vstack gap-3",children:[e.jsxs("button",{type:"button",className:"btn btn-light mb-0",children:[e.jsx(B,{size:16,className:"fab fa-fw me-2"}),"Continue with Google"]}),e.jsxs("button",{type:"button",className:"btn btn-light mb-0",children:[e.jsx(S,{size:16,className:"fab fa-fw text-facebook me-2"}),"Continue with Facebook"]})]}),e.jsxs("div",{className:"text-primary-hover text-body mt-3 text-center",children:[" ","Copyrights Â©",I," Booking. Build by"," ",e.jsx("a",{href:P,target:"_blank",className:"text-body",children:"StackBros"}),"."," "]})]})]})})]})};export{Z as default};
