import{r as o,bM as c}from"./index-Zv8orDLd.js";function w(e,t,r){const n=o.useRef(e!==void 0),[s,a]=o.useState(t),u=e!==void 0,l=n.current;return n.current=u,!u&&l&&s!==t&&a(t),[u?e:s,o.useCallback((...x)=>{const[i,...v]=x;let b=r==null?void 0:r(i,...v);return a(i),b},[r])]}const f={prefix:String(Math.round(Math.random()*1e10)),current:0},d=c.createContext(f),p=c.createContext(!1);let $=new WeakMap;function S(e=!1){let t=o.useContext(d),r=o.useRef(null);if(r.current===null&&!e){var n,s;let a=(s=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(n=s.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(a){let u=$.get(a);u==null?$.set(a,{id:t.current,state:a.memoizedState}):a.memoizedState!==u.state&&(t.current=u.id,$.delete(a))}r.current=++t.current}return r.current}function m(e){let t=o.useContext(d),r=S(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function C(e){let t=c.useId(),[r]=o.useState(P()),n=r?"react-aria":`react-aria${f.prefix}`;return e||`${n}-${t}`}const k=typeof c.useId=="function"?C:m;function g(){return!1}function y(){return!0}function M(e){return()=>{}}function P(){return typeof c.useSyncExternalStore=="function"?c.useSyncExternalStore(M,g,y):o.useContext(p)}export{k as $,w as u};
