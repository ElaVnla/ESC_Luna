var oo=Object.defineProperty;var co=(n,e,t)=>e in n?oo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var O=(n,e,t)=>co(n,typeof e!="symbol"?e+"":e,t);import{j as u,C as Hn,R as it,E as ce,L as et,G as uo,H as ho,I as fo,J as po,K as go,M as mo,N as bo,t as yo,dq as At,co as ea,bM as Qe,r as Ci,aa as vo,b as xo,l as No,a as wo,c as $r,p as Eo,d as Ao,e as To,f as So,g as Lo,h as Co,i as jo,k as qo,q as Oo,s as _o,m as Io}from"./index-CJzBCe4p.js";import{P as ko}from"./PageMetaData-DABxDl9n.js";import{I as Ro}from"./Image-DjF_HsJ-.js";import{c as Bo,d as Mo,a as Ur,o as Do}from"./index.esm-BjYrSiQX.js";import{C as Po,a as $o,F as Uo,b as Fo,u as Ho}from"./index.esm-C-xeldWZ.js";import{C as Fr}from"./CheckFormInput-CCPY-koj.js";import{D as zo}from"./DropzoneFormInput-xIACDDOM.js";import{F as Go}from"./Feedback-jmF2vASQ.js";import{F as Ko}from"./FormLabel-Bkl4epJ5.js";import{S as Ct}from"./SelectFormInput-DWeEf15J.js";import{T as Wo}from"./TextAreaFormInput-Do967E-5.js";import{T as Te}from"./TextFormInput-xZ9fvEEG.js";import{u as zn,W as Vo}from"./react-use-wizard-ZeHpedXt.js";import{C as gt,a as mt,b as bt,c as Zo}from"./Card-Ca8WKYjc.js";import{u as Yo}from"./useScrollEvent-CtN4OKd3.js";import{A as Xo}from"./AppMenu-CYEh4Qei.js";import{t as Qo}from"./change-casing-BoyW-fpY.js";import{a as Vi}from"./01-DeMBLNXD.js";import{N as Jo}from"./Navbar-DsIf3pJv.js";import{D as Hr,a as zr,b as Gr,c as Zi,d as Bs}from"./Dropdown-JcUvReEs.js";import{L as ec,a as tc}from"./ListGroup-F6SA0cO5.js";import{O as sc,T as nc}from"./OverlayTrigger-BT8vZFTb.js";import"./warning-LG9o13RO.js";import"./FormContext-CTTW5aUN.js";import"./FormCheckInput-Cw6xMI_k.js";import"./FormCheck-JRsqyNwK.js";import"./ElementChildren-BHISTHEV.js";import"./CardHeaderContext-CcDbhTsf.js";import"./menu-C7kz6mNs.js";import"./Collapse-B8MpHdWU.js";import"./NavbarContext-DwJcBLlp.js";import"./hook-DxvfZIb0.js";import"./SSRProvider-DBHQFR-T.js";import"./mergeOptionsWithPopperConfig-B3kESI1j.js";import"./Anchor-BeTNz0EJ.js";import"./Nav-BNPe3TG6.js";const ta=({name:n,containerClass:e,control:t,helpText:s,id:r,label:i,noValidate:a,...o})=>u.jsx(Po,{name:n,defaultValue:"",control:t,render:({field:h,fieldState:d})=>{var m,v,f;return u.jsxs($o,{className:e??"",children:[i&&u.jsx(Ko,{children:i}),u.jsx(Uo,{type:"file",id:r,...o,...h,isInvalid:!!((m=d.error)!=null&&m.message)}),s&&typeof s=="string"?u.jsx(Fo,{id:`${r}-help`,children:s}):s,!a&&((v=d.error)==null?void 0:v.message)&&u.jsx(Go,{type:"invalid",children:(f=d.error)==null?void 0:f.message})]})}}),rc=()=>u.jsx("footer",{className:"bg-dark p-3",children:u.jsx(Hn,{children:u.jsxs(it,{className:"align-items-center",children:[u.jsx(ce,{md:4,children:u.jsx("div",{className:"text-center text-md-start mb-3 mb-md-0",children:u.jsxs(et,{to:"/",children:[" ",u.jsx(Ro,{className:"h-30px",src:uo,alt:"logo"})," "]})})}),u.jsx(ce,{md:4,children:u.jsxs("div",{className:"text-body-secondary text-primary-hover",children:[" ","Copyrights Â©",ho," Booking. Build by"," ",u.jsx(et,{to:fo,className:"text-body-secondary",children:"StackBros"}),"."," "]})}),u.jsx(ce,{md:4,children:u.jsxs("ul",{className:"list-inline mb-0 text-center text-md-end",children:[u.jsx("li",{className:"list-inline-item ms-2",children:u.jsx(et,{to:"",children:u.jsx(po,{className:"text-white"})})}),u.jsx("li",{className:"list-inline-item ms-2",children:u.jsx(et,{to:"",children:u.jsx(go,{className:"text-white"})})}),u.jsx("li",{className:"list-inline-item ms-2",children:u.jsx(et,{to:"",children:u.jsx(mo,{className:"text-white"})})}),u.jsx("li",{className:"list-inline-item ms-2",children:u.jsx(et,{to:"",children:u.jsx(bo,{className:"text-white"})})})]})})]})})}),ic=()=>u.jsx("section",{className:"pb-0",children:u.jsx(Hn,{children:u.jsx(it,{children:u.jsxs(ce,{xs:12,className:"text-center",children:[u.jsx("h1",{className:"fs-2 mb-2",children:"Add New Listing"}),u.jsx("p",{className:"mb-0",children:"Praise effects wish change way and any wanted. Lively use looked latter regard had."})]})})})}),lc=({control:n})=>u.jsxs(gt,{className:"shadow",children:[u.jsx(mt,{className:"border-bottom",children:u.jsx("h5",{className:"mb-0",children:"Choose Listing Category"})}),u.jsx(bt,{children:u.jsxs(it,{className:"g-4",children:[u.jsxs(ce,{xs:12,children:[u.jsx("label",{className:"form-label",children:"Choose listing type *"}),u.jsxs(Ct,{className:"form-select js-choice",children:[u.jsx("option",{value:-1,children:"Select type"}),u.jsx("option",{children:"Hotel"}),u.jsx("option",{children:"Villa"}),u.jsx("option",{children:"Home Stay"}),u.jsx("option",{children:"Farmhouse"}),u.jsx("option",{children:"House boat"})]}),u.jsx("small",{children:"Hotel: Professional hospitality businesses that usually have a unique style or theme defining their brand and decor"})]}),u.jsx(ce,{xs:12,children:u.jsx(Te,{control:n,label:"Listing name *",type:"text",name:"listingName",placeholder:"Enter Place Name",helpText:"A catchy name usually includes: House name - Room name - A tourist destination"})}),u.jsxs(ce,{xs:12,children:[u.jsx("label",{className:"form-label",children:"Is your listing set as a personal or guest use *"}),u.jsxs("div",{className:"d-sm-flex",children:[u.jsx(Fr,{name:"usageType",control:n,label:"Entire Place",type:"radio",containerClass:"form-check radio-bg-light me-4",id:"entire-place",defaultChecked:!0}),u.jsx(Fr,{name:"usageType",control:n,label:"For Guests",type:"radio",id:"for-guests",containerClass:"form-check radio-bg-light me-4"}),u.jsx(Fr,{name:"usageType",control:n,label:"For Personal",type:"radio",id:"for-personal",containerClass:"form-check radio-bg-light"})]})]}),u.jsx(ce,{xs:12,children:u.jsx(Wo,{control:n,name:"shortDescription",rows:2,label:"Short description *",placeholder:"Enter keywords"})})]})})]}),ac=({control:n})=>u.jsxs(gt,{className:"shadow",children:[u.jsx(mt,{className:"border-bottom",children:u.jsx("h5",{className:"mb-0",children:"Listing Location"})}),u.jsx(bt,{children:u.jsxs(it,{className:"g-3",children:[u.jsxs(ce,{md:6,children:[u.jsx("label",{className:"form-label",children:"Country/Region *"}),u.jsxs(Ct,{className:"form-select js-choice",children:[u.jsx("option",{value:-1,children:"Select Country"}),u.jsx("option",{children:"India"}),u.jsx("option",{children:"Usa"}),u.jsx("option",{children:"Japan"}),u.jsx("option",{children:"United Kingdom"})]})]}),u.jsxs(ce,{md:6,children:[u.jsx("label",{className:"form-label",children:"State *"}),u.jsxs(Ct,{className:"form-select js-choice","data-search-enabled":"true",children:[u.jsx("option",{value:-1,children:"Select state"}),u.jsx("option",{children:"India"}),u.jsx("option",{children:"Usa"}),u.jsx("option",{children:"Japan"}),u.jsx("option",{children:"United Kingdom"})]})]}),u.jsx(Te,{name:"city",label:"City *",placeholder:"Enter city",containerClass:"col-md-6",control:n}),u.jsx(Te,{name:"pNumber",label:"Postal number *",placeholder:"Enter postal number",containerClass:"col-md-6",control:n}),u.jsx(Te,{name:"street",label:"Street *",placeholder:"Enter street",control:n,containerClass:"col-12"}),u.jsx(Te,{name:"latitude",label:"Latitude *",placeholder:"Enter latitude",control:n,containerClass:"col-md-6"}),u.jsx(Te,{name:"longitude",label:"Longitude *",placeholder:"Enter Longitude",control:n,containerClass:"col-md-6"}),u.jsx(ce,{xs:12,children:u.jsx("iframe",{className:"w-100 h-300px grayscale rounded",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.9663095343008!2d-74.00425878428698!3d40.74076684379132!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259bf5c1654f3%3A0xc80f9cfce5383d5d!2sGoogle!5e0!3m2!1sen!2sin!4v1586000412513!5m2!1sen!2sin",height:500,style:{border:0},"aria-hidden":"false",tabIndex:0})})]})})]}),oc=({control:n})=>u.jsxs(gt,{className:"shadow",children:[u.jsx(mt,{className:"border-bottom",children:u.jsx("h5",{className:"mb-0",children:"Upload Images"})}),u.jsx(bt,{children:u.jsxs(it,{className:"g-3",children:[u.jsx(ce,{xs:12,children:u.jsx(ta,{name:"thumbnailImage",control:n,label:"Upload thumbnail image *",helpText:u.jsxs("p",{className:"small mb-0 mt-2",children:[u.jsx("b",{children:"Note:"})," Only JPG, JPEG, and PNG. Our suggested dimensions are 600px * 450px. The larger image will be cropped to 4:3 to fit our thumbnails/previews."]})})}),u.jsx(ce,{xs:12,children:u.jsx(zo,{label:"Upload image gallery *",text:"Drop files here or click to upload.",iconProps:{size:80},helpText:u.jsxs("p",{className:"small mb-0 mt-2",children:[u.jsx("b",{children:"Note:"})," Only JPG, JPEG, and PNG. Our suggested dimensions are 600px * 450px. The larger image will be cropped to 4:3 to fit our thumbnails/previews."]}),showPreview:!0})})]})})]}),cc=({control:n})=>{const{nextStep:e}=zn();return u.jsxs("div",{className:"vstack gap-4",children:[u.jsx("h4",{className:"mb-0",children:"Basic Information"}),u.jsx(lc,{control:n}),u.jsx(ac,{control:n}),u.jsx(oc,{control:n}),u.jsx("div",{className:"text-end",children:u.jsx(yo,{onClick:()=>e(),variant:"primary",className:"next-btn mb-0",children:"Next"})})]})};var sa=typeof global=="object"&&global&&global.Object===Object&&global,uc=typeof self=="object"&&self&&self.Object===Object&&self,lt=sa||uc||Function("return this")(),jt=lt.Symbol,na=Object.prototype,hc=na.hasOwnProperty,dc=na.toString,Ms=jt?jt.toStringTag:void 0;function fc(n){var e=hc.call(n,Ms),t=n[Ms];try{n[Ms]=void 0;var s=!0}catch{}var r=dc.call(n);return s&&(e?n[Ms]=t:delete n[Ms]),r}var pc=Object.prototype,gc=pc.toString;function mc(n){return gc.call(n)}var bc="[object Null]",yc="[object Undefined]",Yi=jt?jt.toStringTag:void 0;function vs(n){return n==null?n===void 0?yc:bc:Yi&&Yi in Object(n)?fc(n):mc(n)}function dt(n){return n!=null&&typeof n=="object"}var Pt=Array.isArray;function qt(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function ra(n){return n}var vc="[object AsyncFunction]",xc="[object Function]",Nc="[object GeneratorFunction]",wc="[object Proxy]";function ji(n){if(!qt(n))return!1;var e=vs(n);return e==xc||e==Nc||e==vc||e==wc}var Kr=lt["__core-js_shared__"],Xi=function(){var n=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Ec(n){return!!Xi&&Xi in n}var Ac=Function.prototype,Tc=Ac.toString;function Ft(n){if(n!=null){try{return Tc.call(n)}catch{}try{return n+""}catch{}}return""}var Sc=/[\\^$.*+?()[\]{}|]/g,Lc=/^\[object .+?Constructor\]$/,Cc=Function.prototype,jc=Object.prototype,qc=Cc.toString,Oc=jc.hasOwnProperty,_c=RegExp("^"+qc.call(Oc).replace(Sc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ic(n){if(!qt(n)||Ec(n))return!1;var e=ji(n)?_c:Lc;return e.test(Ft(n))}function kc(n,e){return n==null?void 0:n[e]}function Ht(n,e){var t=kc(n,e);return Ic(t)?t:void 0}var li=Ht(lt,"WeakMap"),Qi=Object.create,Rc=function(){function n(){}return function(e){if(!qt(e))return{};if(Qi)return Qi(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function Bc(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Mc(n,e){var t=-1,s=n.length;for(e||(e=Array(s));++t<s;)e[t]=n[t];return e}var Dc=800,Pc=16,$c=Date.now;function Uc(n){var e=0,t=0;return function(){var s=$c(),r=Pc-(s-t);if(t=s,r>0){if(++e>=Dc)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Fc(n){return function(){return n}}var Pn=function(){try{var n=Ht(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Hc=Pn?function(n,e){return Pn(n,"toString",{configurable:!0,enumerable:!1,value:Fc(e),writable:!0})}:ra,zc=Uc(Hc);function Gc(n,e){for(var t=-1,s=n==null?0:n.length;++t<s&&e(n[t],t,n)!==!1;);return n}var Kc=9007199254740991,Wc=/^(?:0|[1-9]\d*)$/;function ia(n,e){var t=typeof n;return e=e??Kc,!!e&&(t=="number"||t!="symbol"&&Wc.test(n))&&n>-1&&n%1==0&&n<e}function qi(n,e,t){e=="__proto__"&&Pn?Pn(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Js(n,e){return n===e||n!==n&&e!==e}var Vc=Object.prototype,Zc=Vc.hasOwnProperty;function la(n,e,t){var s=n[e];(!(Zc.call(n,e)&&Js(s,t))||t===void 0&&!(e in n))&&qi(n,e,t)}function Yc(n,e,t,s){var r=!t;t||(t={});for(var i=-1,a=e.length;++i<a;){var o=e[i],h=void 0;h===void 0&&(h=n[o]),r?qi(t,o,h):la(t,o,h)}return t}var Ji=Math.max;function Xc(n,e,t){return e=Ji(e===void 0?n.length-1:e,0),function(){for(var s=arguments,r=-1,i=Ji(s.length-e,0),a=Array(i);++r<i;)a[r]=s[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=s[r];return o[e]=t(a),Bc(n,this,o)}}function Qc(n,e){return zc(Xc(n,e,ra),n+"")}var Jc=9007199254740991;function aa(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Jc}function Gn(n){return n!=null&&aa(n.length)&&!ji(n)}function eu(n,e,t){if(!qt(t))return!1;var s=typeof e;return(s=="number"?Gn(t)&&ia(e,t.length):s=="string"&&e in t)?Js(t[e],n):!1}function tu(n){return Qc(function(e,t){var s=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=n.length>3&&typeof i=="function"?(r--,i):void 0,a&&eu(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++s<r;){var o=t[s];o&&n(e,o,s,i)}return e})}var su=Object.prototype;function Oi(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||su;return n===t}function nu(n,e){for(var t=-1,s=Array(n);++t<n;)s[t]=e(t);return s}var ru="[object Arguments]";function el(n){return dt(n)&&vs(n)==ru}var oa=Object.prototype,iu=oa.hasOwnProperty,lu=oa.propertyIsEnumerable,ai=el(function(){return arguments}())?el:function(n){return dt(n)&&iu.call(n,"callee")&&!lu.call(n,"callee")};function au(){return!1}var ca=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tl=ca&&typeof module=="object"&&module&&!module.nodeType&&module,ou=tl&&tl.exports===ca,sl=ou?lt.Buffer:void 0,cu=sl?sl.isBuffer:void 0,Ks=cu||au,uu="[object Arguments]",hu="[object Array]",du="[object Boolean]",fu="[object Date]",pu="[object Error]",gu="[object Function]",mu="[object Map]",bu="[object Number]",yu="[object Object]",vu="[object RegExp]",xu="[object Set]",Nu="[object String]",wu="[object WeakMap]",Eu="[object ArrayBuffer]",Au="[object DataView]",Tu="[object Float32Array]",Su="[object Float64Array]",Lu="[object Int8Array]",Cu="[object Int16Array]",ju="[object Int32Array]",qu="[object Uint8Array]",Ou="[object Uint8ClampedArray]",_u="[object Uint16Array]",Iu="[object Uint32Array]",ae={};ae[Tu]=ae[Su]=ae[Lu]=ae[Cu]=ae[ju]=ae[qu]=ae[Ou]=ae[_u]=ae[Iu]=!0;ae[uu]=ae[hu]=ae[Eu]=ae[du]=ae[Au]=ae[fu]=ae[pu]=ae[gu]=ae[mu]=ae[bu]=ae[yu]=ae[vu]=ae[xu]=ae[Nu]=ae[wu]=!1;function ku(n){return dt(n)&&aa(n.length)&&!!ae[vs(n)]}function _i(n){return function(e){return n(e)}}var ua=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fs=ua&&typeof module=="object"&&module&&!module.nodeType&&module,Ru=Fs&&Fs.exports===ua,Wr=Ru&&sa.process,ps=function(){try{var n=Fs&&Fs.require&&Fs.require("util").types;return n||Wr&&Wr.binding&&Wr.binding("util")}catch{}}(),nl=ps&&ps.isTypedArray,Ii=nl?_i(nl):ku,Bu=Object.prototype,Mu=Bu.hasOwnProperty;function ha(n,e){var t=Pt(n),s=!t&&ai(n),r=!t&&!s&&Ks(n),i=!t&&!s&&!r&&Ii(n),a=t||s||r||i,o=a?nu(n.length,String):[],h=o.length;for(var d in n)(e||Mu.call(n,d))&&!(a&&(d=="length"||r&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ia(d,h)))&&o.push(d);return o}function da(n,e){return function(t){return n(e(t))}}var Du=da(Object.keys,Object),Pu=Object.prototype,$u=Pu.hasOwnProperty;function Uu(n){if(!Oi(n))return Du(n);var e=[];for(var t in Object(n))$u.call(n,t)&&t!="constructor"&&e.push(t);return e}function Fu(n){return Gn(n)?ha(n):Uu(n)}function Hu(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var zu=Object.prototype,Gu=zu.hasOwnProperty;function Ku(n){if(!qt(n))return Hu(n);var e=Oi(n),t=[];for(var s in n)s=="constructor"&&(e||!Gu.call(n,s))||t.push(s);return t}function fa(n){return Gn(n)?ha(n,!0):Ku(n)}var Ws=Ht(Object,"create");function Wu(){this.__data__=Ws?Ws(null):{},this.size=0}function Vu(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Zu="__lodash_hash_undefined__",Yu=Object.prototype,Xu=Yu.hasOwnProperty;function Qu(n){var e=this.__data__;if(Ws){var t=e[n];return t===Zu?void 0:t}return Xu.call(e,n)?e[n]:void 0}var Ju=Object.prototype,eh=Ju.hasOwnProperty;function th(n){var e=this.__data__;return Ws?e[n]!==void 0:eh.call(e,n)}var sh="__lodash_hash_undefined__";function nh(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Ws&&e===void 0?sh:e,this}function $t(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}$t.prototype.clear=Wu;$t.prototype.delete=Vu;$t.prototype.get=Qu;$t.prototype.has=th;$t.prototype.set=nh;function rh(){this.__data__=[],this.size=0}function Kn(n,e){for(var t=n.length;t--;)if(Js(n[t][0],e))return t;return-1}var ih=Array.prototype,lh=ih.splice;function ah(n){var e=this.__data__,t=Kn(e,n);if(t<0)return!1;var s=e.length-1;return t==s?e.pop():lh.call(e,t,1),--this.size,!0}function oh(n){var e=this.__data__,t=Kn(e,n);return t<0?void 0:e[t][1]}function ch(n){return Kn(this.__data__,n)>-1}function uh(n,e){var t=this.__data__,s=Kn(t,n);return s<0?(++this.size,t.push([n,e])):t[s][1]=e,this}function yt(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}yt.prototype.clear=rh;yt.prototype.delete=ah;yt.prototype.get=oh;yt.prototype.has=ch;yt.prototype.set=uh;var Vs=Ht(lt,"Map");function hh(){this.size=0,this.__data__={hash:new $t,map:new(Vs||yt),string:new $t}}function dh(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Wn(n,e){var t=n.__data__;return dh(e)?t[typeof e=="string"?"string":"hash"]:t.map}function fh(n){var e=Wn(this,n).delete(n);return this.size-=e?1:0,e}function ph(n){return Wn(this,n).get(n)}function gh(n){return Wn(this,n).has(n)}function mh(n,e){var t=Wn(this,n),s=t.size;return t.set(n,e),this.size+=t.size==s?0:1,this}function zt(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}zt.prototype.clear=hh;zt.prototype.delete=fh;zt.prototype.get=ph;zt.prototype.has=gh;zt.prototype.set=mh;function bh(n,e){for(var t=-1,s=e.length,r=n.length;++t<s;)n[r+t]=e[t];return n}var pa=da(Object.getPrototypeOf,Object),yh="[object Object]",vh=Function.prototype,xh=Object.prototype,ga=vh.toString,Nh=xh.hasOwnProperty,wh=ga.call(Object);function Eh(n){if(!dt(n)||vs(n)!=yh)return!1;var e=pa(n);if(e===null)return!0;var t=Nh.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&ga.call(t)==wh}function Ah(){this.__data__=new yt,this.size=0}function Th(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Sh(n){return this.__data__.get(n)}function Lh(n){return this.__data__.has(n)}var Ch=200;function jh(n,e){var t=this.__data__;if(t instanceof yt){var s=t.__data__;if(!Vs||s.length<Ch-1)return s.push([n,e]),this.size=++t.size,this;t=this.__data__=new zt(s)}return t.set(n,e),this.size=t.size,this}function tt(n){var e=this.__data__=new yt(n);this.size=e.size}tt.prototype.clear=Ah;tt.prototype.delete=Th;tt.prototype.get=Sh;tt.prototype.has=Lh;tt.prototype.set=jh;var ma=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rl=ma&&typeof module=="object"&&module&&!module.nodeType&&module,qh=rl&&rl.exports===ma,il=qh?lt.Buffer:void 0,ll=il?il.allocUnsafe:void 0;function ba(n,e){if(e)return n.slice();var t=n.length,s=ll?ll(t):new n.constructor(t);return n.copy(s),s}function Oh(n,e){for(var t=-1,s=n==null?0:n.length,r=0,i=[];++t<s;){var a=n[t];e(a,t,n)&&(i[r++]=a)}return i}function _h(){return[]}var Ih=Object.prototype,kh=Ih.propertyIsEnumerable,al=Object.getOwnPropertySymbols,Rh=al?function(n){return n==null?[]:(n=Object(n),Oh(al(n),function(e){return kh.call(n,e)}))}:_h;function Bh(n,e,t){var s=e(n);return Pt(n)?s:bh(s,t(n))}function oi(n){return Bh(n,Fu,Rh)}var ci=Ht(lt,"DataView"),ui=Ht(lt,"Promise"),hi=Ht(lt,"Set"),ol="[object Map]",Mh="[object Object]",cl="[object Promise]",ul="[object Set]",hl="[object WeakMap]",dl="[object DataView]",Dh=Ft(ci),Ph=Ft(Vs),$h=Ft(ui),Uh=Ft(hi),Fh=Ft(li),Ue=vs;(ci&&Ue(new ci(new ArrayBuffer(1)))!=dl||Vs&&Ue(new Vs)!=ol||ui&&Ue(ui.resolve())!=cl||hi&&Ue(new hi)!=ul||li&&Ue(new li)!=hl)&&(Ue=function(n){var e=vs(n),t=e==Mh?n.constructor:void 0,s=t?Ft(t):"";if(s)switch(s){case Dh:return dl;case Ph:return ol;case $h:return cl;case Uh:return ul;case Fh:return hl}return e});var Hh=Object.prototype,zh=Hh.hasOwnProperty;function Gh(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&zh.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var $n=lt.Uint8Array;function ki(n){var e=new n.constructor(n.byteLength);return new $n(e).set(new $n(n)),e}function Kh(n,e){var t=ki(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var Wh=/\w*$/;function Vh(n){var e=new n.constructor(n.source,Wh.exec(n));return e.lastIndex=n.lastIndex,e}var fl=jt?jt.prototype:void 0,pl=fl?fl.valueOf:void 0;function Zh(n){return pl?Object(pl.call(n)):{}}function ya(n,e){var t=e?ki(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Yh="[object Boolean]",Xh="[object Date]",Qh="[object Map]",Jh="[object Number]",ed="[object RegExp]",td="[object Set]",sd="[object String]",nd="[object Symbol]",rd="[object ArrayBuffer]",id="[object DataView]",ld="[object Float32Array]",ad="[object Float64Array]",od="[object Int8Array]",cd="[object Int16Array]",ud="[object Int32Array]",hd="[object Uint8Array]",dd="[object Uint8ClampedArray]",fd="[object Uint16Array]",pd="[object Uint32Array]";function gd(n,e,t){var s=n.constructor;switch(e){case rd:return ki(n);case Yh:case Xh:return new s(+n);case id:return Kh(n);case ld:case ad:case od:case cd:case ud:case hd:case dd:case fd:case pd:return ya(n,t);case Qh:return new s;case Jh:case sd:return new s(n);case ed:return Vh(n);case td:return new s;case nd:return Zh(n)}}function va(n){return typeof n.constructor=="function"&&!Oi(n)?Rc(pa(n)):{}}var md="[object Map]";function bd(n){return dt(n)&&Ue(n)==md}var gl=ps&&ps.isMap,yd=gl?_i(gl):bd,vd="[object Set]";function xd(n){return dt(n)&&Ue(n)==vd}var ml=ps&&ps.isSet,Nd=ml?_i(ml):xd,wd=1,xa="[object Arguments]",Ed="[object Array]",Ad="[object Boolean]",Td="[object Date]",Sd="[object Error]",Na="[object Function]",Ld="[object GeneratorFunction]",Cd="[object Map]",jd="[object Number]",wa="[object Object]",qd="[object RegExp]",Od="[object Set]",_d="[object String]",Id="[object Symbol]",kd="[object WeakMap]",Rd="[object ArrayBuffer]",Bd="[object DataView]",Md="[object Float32Array]",Dd="[object Float64Array]",Pd="[object Int8Array]",$d="[object Int16Array]",Ud="[object Int32Array]",Fd="[object Uint8Array]",Hd="[object Uint8ClampedArray]",zd="[object Uint16Array]",Gd="[object Uint32Array]",ie={};ie[xa]=ie[Ed]=ie[Rd]=ie[Bd]=ie[Ad]=ie[Td]=ie[Md]=ie[Dd]=ie[Pd]=ie[$d]=ie[Ud]=ie[Cd]=ie[jd]=ie[wa]=ie[qd]=ie[Od]=ie[_d]=ie[Id]=ie[Fd]=ie[Hd]=ie[zd]=ie[Gd]=!0;ie[Sd]=ie[Na]=ie[kd]=!1;function Bn(n,e,t,s,r,i){var a,o=e&wd;if(a!==void 0)return a;if(!qt(n))return n;var h=Pt(n);if(h)a=Gh(n);else{var d=Ue(n),m=d==Na||d==Ld;if(Ks(n))return ba(n,o);if(d==wa||d==xa||m&&!r)a=m?{}:va(n);else{if(!ie[d])return r?n:{};a=gd(n,d,o)}}i||(i=new tt);var v=i.get(n);if(v)return v;i.set(n,a),Nd(n)?n.forEach(function(x){a.add(Bn(x,e,t,x,n,i))}):yd(n)&&n.forEach(function(x,w){a.set(w,Bn(x,e,t,w,n,i))});var f=oi,b=h?void 0:f(n);return Gc(b||n,function(x,w){b&&(w=x,x=n[w]),la(a,w,Bn(x,e,t,w,n,i))}),a}var Kd=1,Wd=4;function hs(n){return Bn(n,Kd|Wd)}var Vd="__lodash_hash_undefined__";function Zd(n){return this.__data__.set(n,Vd),this}function Yd(n){return this.__data__.has(n)}function Un(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new zt;++e<t;)this.add(n[e])}Un.prototype.add=Un.prototype.push=Zd;Un.prototype.has=Yd;function Xd(n,e){for(var t=-1,s=n==null?0:n.length;++t<s;)if(e(n[t],t,n))return!0;return!1}function Qd(n,e){return n.has(e)}var Jd=1,ef=2;function Ea(n,e,t,s,r,i){var a=t&Jd,o=n.length,h=e.length;if(o!=h&&!(a&&h>o))return!1;var d=i.get(n),m=i.get(e);if(d&&m)return d==e&&m==n;var v=-1,f=!0,b=t&ef?new Un:void 0;for(i.set(n,e),i.set(e,n);++v<o;){var x=n[v],w=e[v];if(s)var A=a?s(w,x,v,e,n,i):s(x,w,v,n,e,i);if(A!==void 0){if(A)continue;f=!1;break}if(b){if(!Xd(e,function(S,_){if(!Qd(b,_)&&(x===S||r(x,S,t,s,i)))return b.push(_)})){f=!1;break}}else if(!(x===w||r(x,w,t,s,i))){f=!1;break}}return i.delete(n),i.delete(e),f}function tf(n){var e=-1,t=Array(n.size);return n.forEach(function(s,r){t[++e]=[r,s]}),t}function sf(n){var e=-1,t=Array(n.size);return n.forEach(function(s){t[++e]=s}),t}var nf=1,rf=2,lf="[object Boolean]",af="[object Date]",of="[object Error]",cf="[object Map]",uf="[object Number]",hf="[object RegExp]",df="[object Set]",ff="[object String]",pf="[object Symbol]",gf="[object ArrayBuffer]",mf="[object DataView]",bl=jt?jt.prototype:void 0,Vr=bl?bl.valueOf:void 0;function bf(n,e,t,s,r,i,a){switch(t){case mf:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case gf:return!(n.byteLength!=e.byteLength||!i(new $n(n),new $n(e)));case lf:case af:case uf:return Js(+n,+e);case of:return n.name==e.name&&n.message==e.message;case hf:case ff:return n==e+"";case cf:var o=tf;case df:var h=s&nf;if(o||(o=sf),n.size!=e.size&&!h)return!1;var d=a.get(n);if(d)return d==e;s|=rf,a.set(n,e);var m=Ea(o(n),o(e),s,r,i,a);return a.delete(n),m;case pf:if(Vr)return Vr.call(n)==Vr.call(e)}return!1}var yf=1,vf=Object.prototype,xf=vf.hasOwnProperty;function Nf(n,e,t,s,r,i){var a=t&yf,o=oi(n),h=o.length,d=oi(e),m=d.length;if(h!=m&&!a)return!1;for(var v=h;v--;){var f=o[v];if(!(a?f in e:xf.call(e,f)))return!1}var b=i.get(n),x=i.get(e);if(b&&x)return b==e&&x==n;var w=!0;i.set(n,e),i.set(e,n);for(var A=a;++v<h;){f=o[v];var S=n[f],_=e[f];if(s)var M=a?s(_,S,f,e,n,i):s(S,_,f,n,e,i);if(!(M===void 0?S===_||r(S,_,t,s,i):M)){w=!1;break}A||(A=f=="constructor")}if(w&&!A){var G=n.constructor,F=e.constructor;G!=F&&"constructor"in n&&"constructor"in e&&!(typeof G=="function"&&G instanceof G&&typeof F=="function"&&F instanceof F)&&(w=!1)}return i.delete(n),i.delete(e),w}var wf=1,yl="[object Arguments]",vl="[object Array]",Tn="[object Object]",Ef=Object.prototype,xl=Ef.hasOwnProperty;function Af(n,e,t,s,r,i){var a=Pt(n),o=Pt(e),h=a?vl:Ue(n),d=o?vl:Ue(e);h=h==yl?Tn:h,d=d==yl?Tn:d;var m=h==Tn,v=d==Tn,f=h==d;if(f&&Ks(n)){if(!Ks(e))return!1;a=!0,m=!1}if(f&&!m)return i||(i=new tt),a||Ii(n)?Ea(n,e,t,s,r,i):bf(n,e,h,t,s,r,i);if(!(t&wf)){var b=m&&xl.call(n,"__wrapped__"),x=v&&xl.call(e,"__wrapped__");if(b||x){var w=b?n.value():n,A=x?e.value():e;return i||(i=new tt),r(w,A,t,s,i)}}return f?(i||(i=new tt),Nf(n,e,t,s,r,i)):!1}function Aa(n,e,t,s,r){return n===e?!0:n==null||e==null||!dt(n)&&!dt(e)?n!==n&&e!==e:Af(n,e,t,s,Aa,r)}function Tf(n){return function(e,t,s){for(var r=-1,i=Object(e),a=s(e),o=a.length;o--;){var h=a[++r];if(t(i[h],h,i)===!1)break}return e}}var Sf=Tf();function di(n,e,t){(t!==void 0&&!Js(n[e],t)||t===void 0&&!(e in n))&&qi(n,e,t)}function Lf(n){return dt(n)&&Gn(n)}function fi(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function Cf(n){return Yc(n,fa(n))}function jf(n,e,t,s,r,i,a){var o=fi(n,t),h=fi(e,t),d=a.get(h);if(d){di(n,t,d);return}var m=i?i(o,h,t+"",n,e,a):void 0,v=m===void 0;if(v){var f=Pt(h),b=!f&&Ks(h),x=!f&&!b&&Ii(h);m=h,f||b||x?Pt(o)?m=o:Lf(o)?m=Mc(o):b?(v=!1,m=ba(h,!0)):x?(v=!1,m=ya(h,!0)):m=[]:Eh(h)||ai(h)?(m=o,ai(o)?m=Cf(o):(!qt(o)||ji(o))&&(m=va(h))):v=!1}v&&(a.set(h,m),r(m,h,s,i,a),a.delete(h)),di(n,t,m)}function Ta(n,e,t,s,r){n!==e&&Sf(e,function(i,a){if(r||(r=new tt),qt(i))jf(n,e,a,t,Ta,s,r);else{var o=s?s(fi(n,a),i,a+"",n,e,r):void 0;o===void 0&&(o=i),di(n,a,o)}},fa)}function Et(n,e){return Aa(n,e)}var Lt=tu(function(n,e,t){Ta(n,e,t)}),D=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(D||{});class nt{constructor(e,t,s={}){this.attrName=e,this.keyName=t;const r=D.TYPE&D.ATTRIBUTE;this.scope=s.scope!=null?s.scope&D.LEVEL|r:D.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class ds extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Sa=class pi{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,t)}return null}create(e,t,s){const r=this.query(t);if(r==null)throw new ds(`Unable to create ${t} blot`);const i=r,a=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:i.create(s),o=new i(e,a,s);return pi.blots.set(o.domNode,o),o}find(e,t=!1){return pi.find(e,t)}query(e,t=D.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&D.LEVEL&D.BLOCK?s=this.types.block:e&D.LEVEL&D.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(r=>(s=this.classes[r],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&t&D.LEVEL&s.scope&&t&D.TYPE&s.scope?s:null}register(...e){return e.map(t=>{const s="blotName"in t,r="attrName"in t;if(!s&&!r)throw new ds("Invalid definition");if(s&&t.blotName==="abstract")throw new ds("Cannot register abstract class");const i=s?t.blotName:r?t.attrName:void 0;return this.types[i]=t,r?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):s&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(a=>a.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(a=>{(this.tags[a]==null||t.className==null)&&(this.tags[a]=t)}))),t})}};Sa.blots=new WeakMap;let gs=Sa;function Nl(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class qf extends nt{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){Nl(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(Nl(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const Ge=qf;function Zr(n){const e=n.split("-"),t=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+t}class Of extends nt{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Zr(this.keyName)]=t,!0):!1}remove(e){e.style[Zr(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Zr(this.keyName)];return this.canAdd(e,t)?t:""}}const Ot=Of;class _f{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=gs.find(this.domNode);if(e==null)return;const t=nt.keys(this.domNode),s=Ge.keys(this.domNode),r=Ot.keys(this.domNode);t.concat(s).concat(r).forEach(i=>{const a=e.scroll.query(i,D.ATTRIBUTE);a instanceof nt&&(this.attributes[a.attrName]=a)})}copy(e){Object.keys(this.attributes).forEach(t=>{const s=this.attributes[t].value(this.domNode);e.format(t,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Vn=_f,La=class{constructor(e,t){this.scroll=e,this.domNode=t,gs.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new ds("Blot definition missing tagName");let t,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?t=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?t=document.createElement(s):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),gs.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,s,r){const i=this.isolate(e,t);if(this.scroll.query(s,D.BLOT)!=null&&r)i.wrap(s,r);else if(this.scroll.query(s,D.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);i.wrap(a),a.format(s,r)}}insertAt(e,t,s){const r=s==null?this.scroll.create("text",t):this.scroll.create(t,s),i=this.split(e);this.parent.insertBefore(r,i||void 0)}isolate(e,t){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(t),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new ds(`Cannot wrap ${e}`);return s.appendChild(this),s}};La.blotName="abstract";let Ca=La;const ja=class extends Ca{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};ja.scope=D.INLINE_BLOT;let If=ja;const we=If;class kf{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let s=t();for(;s&&e>0;)e-=1,s=t();return s}contains(e){const t=this.iterator();let s=t();for(;s;){if(s===e)return!0;s=t()}return!1}indexOf(e){const t=this.iterator();let s=t(),r=0;for(;s;){if(s===e)return r;r+=1,s=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,s=this.head;for(;s!=null;){if(s===e)return t;t+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const s=this.iterator();let r=s();for(;r;){const i=r.length();if(e<i||t&&e===i&&(r.next==null||r.next.length()!==0))return[r,e];e-=i,r=s()}return[null,0]}forEach(e){const t=this.iterator();let s=t();for(;s;)e(s),s=t()}forEachAt(e,t,s){if(t<=0)return;const[r,i]=this.find(e);let a=e-i;const o=this.iterator(r);let h=o();for(;h&&a<e+t;){const d=h.length();e>a?s(h,e-a,Math.min(t,a+d-e)):s(h,0,Math.min(d,e+t-a)),a+=d,h=o()}}map(e){return this.reduce((t,s)=>(t.push(e(s)),t),[])}reduce(e,t){const s=this.iterator();let r=s();for(;r;)t=e(t,r),r=s();return t}}function wl(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const s=e.create(D.INLINE);return Array.from(n.childNodes).forEach(r=>{s.domNode.appendChild(r)}),n.parentNode&&n.parentNode.replaceChild(s.domNode,n),s.attach(),s}}const qa=class wt extends Ca{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,wt.uiClass&&this.uiNode.classList.add(wt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new kf,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=wl(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof ds)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(s,r,i)=>{s.deleteAt(r,i)})}descendant(e,t=0){const[s,r]=this.children.find(t);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,r]:s instanceof wt?s.descendant(e,r):[null,-1]}descendants(e,t=0,s=Number.MAX_VALUE){let r=[],i=s;return this.children.forEachAt(t,s,(a,o,h)=>{(e.blotName==null&&e(a)||e.blotName!=null&&a instanceof e)&&r.push(a),a instanceof wt&&(r=r.concat(a.descendants(e,o,i))),i-=h}),r}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(s=>t instanceof s)||(t.statics.scope===D.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof wt?t.unwrap():t.remove())})}formatAt(e,t,s,r){this.children.forEachAt(e,t,(i,a,o)=>{i.formatAt(a,o,s,r)})}insertAt(e,t,s){const[r,i]=this.children.find(e);if(r)r.insertAt(i,t,s);else{const a=s==null?this.scroll.create("text",t):this.scroll.create(t,s);this.appendChild(a)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(s=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(s=>{e.insertBefore(s,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[s,r]=this.children.find(e,t),i=[[this,e]];return s instanceof wt?i.concat(s.path(r,t)):(s!=null&&i.push([s,r]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return s instanceof wt&&this.moveChildren(s),super.replaceWith(s)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(r,i,a)=>{const o=r.split(i,t);o!=null&&s.appendChild(o)}),s}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const s=[],r=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(s.push(...i.addedNodes),r.push(...i.removedNodes))}),r.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(i);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),s.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,a)=>i===a?0:i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let a=null;i.nextSibling!=null&&(a=this.scroll.find(i.nextSibling));const o=wl(i,this.scroll);(o.next!==a||o.next==null)&&(o.parent!=null&&o.parent.removeChild(this),this.insertBefore(o,a||void 0))}),this.enforceAllowedChildren()}};qa.uiClass="";let Rf=qa;const He=Rf;function Bf(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const is=class ls extends He{static create(e){return super.create(e)}static formats(e,t){const s=t.query(ls.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Vn(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(s=>{s instanceof ls||(s=s.wrap(ls.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,D.INLINE);if(s==null)return;s instanceof nt?this.attributes.attribute(s,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,r){this.formats()[s]!=null||this.scroll.query(s,D.ATTRIBUTE)?this.isolate(e,t).format(s,r):super.formatAt(e,t,s,r)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const s=this.next;s instanceof ls&&s.prev===this&&Bf(t,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,t){const s=super.wrap(e,t);return s instanceof ls&&this.attributes.move(s),s}};is.allowedChildren=[is,we],is.blotName="inline",is.scope=D.INLINE_BLOT,is.tagName="SPAN";let Mf=is;const Ri=Mf,as=class gi extends He{static create(e){return super.create(e)}static formats(e,t){const s=t.query(gi.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Vn(this.domNode)}format(e,t){const s=this.scroll.query(e,D.BLOCK);s!=null&&(s instanceof nt?this.attributes.attribute(s,t):e===this.statics.blotName&&!t?this.replaceWith(gi.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,r){this.scroll.query(s,D.BLOCK)!=null?this.format(s,r):super.formatAt(e,t,s,r)}insertAt(e,t,s){if(s==null||this.scroll.query(t,D.INLINE)!=null)super.insertAt(e,t,s);else{const r=this.split(e);if(r!=null){const i=this.scroll.create(t,s);r.parent.insertBefore(i,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};as.blotName="block",as.scope=D.BLOCK_BLOT,as.tagName="P",as.allowedChildren=[Ri,as,we];let Df=as;const Zs=Df,mi=class extends He{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,s,r){super.formatAt(e,t,s,r),this.enforceAllowedChildren()}insertAt(e,t,s){super.insertAt(e,t,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};mi.blotName="container",mi.scope=D.BLOCK_BLOT;let Pf=mi;const Zn=Pf;class $f extends we{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,s,r){e===0&&t===this.length()?this.format(s,r):super.formatAt(e,t,s,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const je=$f,Uf={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Ff=100,os=class extends He{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,Uf),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const s=this.registry.find(e,t);return s?s.scroll===this?s:t?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,t=D.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,t)}formatAt(e,t,s,r){this.update(),super.formatAt(e,t,s,r)}insertAt(e,t,s){this.update(),super.insertAt(e,t,s)}optimize(e=[],t={}){super.optimize(t);const s=t.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)e.push(r.pop());const i=(h,d=!0)=>{h==null||h===this||h.domNode.parentNode!=null&&(s.has(h.domNode)||s.set(h.domNode,[]),d&&i(h.parent))},a=h=>{s.has(h.domNode)&&(h instanceof He&&h.children.forEach(a),s.delete(h.domNode),h.optimize(t))};let o=e;for(let h=0;o.length>0;h+=1){if(h>=Ff)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach(d=>{const m=this.find(d.target,!0);m!=null&&(m.domNode===d.target&&(d.type==="childList"?(i(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(v=>{const f=this.find(v,!1);i(f,!1),f instanceof He&&f.children.forEach(b=>{i(b,!1)})})):d.type==="attributes"&&i(m.prev)),i(m))}),this.children.forEach(a),o=Array.from(this.observer.takeRecords()),r=o.slice();r.length>0;)e.push(r.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(r=>{const i=this.find(r.target,!0);return i==null?null:s.has(i.domNode)?(s.get(i.domNode).push(r),null):(s.set(i.domNode,[r]),i)}).forEach(r=>{r!=null&&r!==this&&s.has(r.domNode)&&r.update(s.get(r.domNode)||[],t)}),t.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),t),this.optimize(e,t)}};os.blotName="scroll",os.defaultChild=Zs,os.allowedChildren=[Zs,Zn],os.scope=D.BLOCK_BLOT,os.tagName="DIV";let Hf=os;const Bi=Hf,bi=class Oa extends we{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,s){s==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Oa&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,t){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};bi.blotName="text",bi.scope=D.INLINE_BLOT;let zf=bi;const Fn=zf,Gf=Object.freeze(Object.defineProperty({__proto__:null,Attributor:nt,AttributorStore:Vn,BlockBlot:Zs,ClassAttributor:Ge,ContainerBlot:Zn,EmbedBlot:je,InlineBlot:Ri,LeafBlot:we,ParentBlot:He,Registry:gs,Scope:D,ScrollBlot:Bi,StyleAttributor:Ot,TextBlot:Fn},Symbol.toStringTag,{value:"Module"}));var Sn={exports:{}},Yr,El;function Kf(){if(El)return Yr;El=1;var n=-1,e=1,t=0;function s(g,L,y,q,C){if(g===L)return g?[[t,g]]:[];if(y!=null){var T=Be(g,L,y);if(T)return T}var j=o(g,L),R=g.substring(0,j);g=g.substring(j),L=L.substring(j),j=d(g,L);var P=g.substring(g.length-j);g=g.substring(0,g.length-j),L=L.substring(0,L.length-j);var I=r(g,L);return R&&I.unshift([t,R]),P&&I.push([t,P]),_(I,C),q&&v(I),I}function r(g,L){var y;if(!g)return[[e,L]];if(!L)return[[n,g]];var q=g.length>L.length?g:L,C=g.length>L.length?L:g,T=q.indexOf(C);if(T!==-1)return y=[[e,q.substring(0,T)],[t,C],[e,q.substring(T+C.length)]],g.length>L.length&&(y[0][0]=y[2][0]=n),y;if(C.length===1)return[[n,g],[e,L]];var j=m(g,L);if(j){var R=j[0],P=j[1],I=j[2],K=j[3],H=j[4],V=s(R,I),Z=s(P,K);return V.concat([[t,H]],Z)}return i(g,L)}function i(g,L){for(var y=g.length,q=L.length,C=Math.ceil((y+q)/2),T=C,j=2*C,R=new Array(j),P=new Array(j),I=0;I<j;I++)R[I]=-1,P[I]=-1;R[T+1]=0,P[T+1]=0;for(var K=y-q,H=K%2!==0,V=0,Z=0,U=0,le=0,oe=0;oe<C;oe++){for(var W=-oe+V;W<=oe-Z;W+=2){var J=T+W,Q;W===-oe||W!==oe&&R[J-1]<R[J+1]?Q=R[J+1]:Q=R[J-1]+1;for(var ee=Q-W;Q<y&&ee<q&&g.charAt(Q)===L.charAt(ee);)Q++,ee++;if(R[J]=Q,Q>y)Z+=2;else if(ee>q)V+=2;else if(H){var se=T+K-W;if(se>=0&&se<j&&P[se]!==-1){var ne=y-P[se];if(Q>=ne)return a(g,L,Q,ee)}}}for(var he=-oe+U;he<=oe-le;he+=2){var se=T+he,ne;he===-oe||he!==oe&&P[se-1]<P[se+1]?ne=P[se+1]:ne=P[se-1]+1;for(var ye=ne-he;ne<y&&ye<q&&g.charAt(y-ne-1)===L.charAt(q-ye-1);)ne++,ye++;if(P[se]=ne,ne>y)le+=2;else if(ye>q)U+=2;else if(!H){var J=T+K-he;if(J>=0&&J<j&&R[J]!==-1){var Q=R[J],ee=T+Q-J;if(ne=y-ne,Q>=ne)return a(g,L,Q,ee)}}}}return[[n,g],[e,L]]}function a(g,L,y,q){var C=g.substring(0,y),T=L.substring(0,q),j=g.substring(y),R=L.substring(q),P=s(C,T),I=s(j,R);return P.concat(I)}function o(g,L){if(!g||!L||g.charAt(0)!==L.charAt(0))return 0;for(var y=0,q=Math.min(g.length,L.length),C=q,T=0;y<C;)g.substring(T,C)==L.substring(T,C)?(y=C,T=y):q=C,C=Math.floor((q-y)/2+y);return M(g.charCodeAt(C-1))&&C--,C}function h(g,L){var y=g.length,q=L.length;if(y==0||q==0)return 0;y>q?g=g.substring(y-q):y<q&&(L=L.substring(0,y));var C=Math.min(y,q);if(g==L)return C;for(var T=0,j=1;;){var R=g.substring(C-j),P=L.indexOf(R);if(P==-1)return T;j+=P,(P==0||g.substring(C-j)==L.substring(0,j))&&(T=j,j++)}}function d(g,L){if(!g||!L||g.slice(-1)!==L.slice(-1))return 0;for(var y=0,q=Math.min(g.length,L.length),C=q,T=0;y<C;)g.substring(g.length-C,g.length-T)==L.substring(L.length-C,L.length-T)?(y=C,T=y):q=C,C=Math.floor((q-y)/2+y);return G(g.charCodeAt(g.length-C))&&C--,C}function m(g,L){var y=g.length>L.length?g:L,q=g.length>L.length?L:g;if(y.length<4||q.length*2<y.length)return null;function C(Z,U,le){for(var oe=Z.substring(le,le+Math.floor(Z.length/4)),W=-1,J="",Q,ee,se,ne;(W=U.indexOf(oe,W+1))!==-1;){var he=o(Z.substring(le),U.substring(W)),ye=d(Z.substring(0,le),U.substring(0,W));J.length<ye+he&&(J=U.substring(W-ye,W)+U.substring(W,W+he),Q=Z.substring(0,le-ye),ee=Z.substring(le+he),se=U.substring(0,W-ye),ne=U.substring(W+he))}return J.length*2>=Z.length?[Q,ee,se,ne,J]:null}var T=C(y,q,Math.ceil(y.length/4)),j=C(y,q,Math.ceil(y.length/2)),R;if(!T&&!j)return null;j?T?R=T[4].length>j[4].length?T:j:R=j:R=T;var P,I,K,H;g.length>L.length?(P=R[0],I=R[1],K=R[2],H=R[3]):(K=R[0],H=R[1],P=R[2],I=R[3]);var V=R[4];return[P,I,K,H,V]}function v(g){for(var L=!1,y=[],q=0,C=null,T=0,j=0,R=0,P=0,I=0;T<g.length;)g[T][0]==t?(y[q++]=T,j=P,R=I,P=0,I=0,C=g[T][1]):(g[T][0]==e?P+=g[T][1].length:I+=g[T][1].length,C&&C.length<=Math.max(j,R)&&C.length<=Math.max(P,I)&&(g.splice(y[q-1],0,[n,C]),g[y[q-1]+1][0]=e,q--,q--,T=q>0?y[q-1]:-1,j=0,R=0,P=0,I=0,C=null,L=!0)),T++;for(L&&_(g),S(g),T=1;T<g.length;){if(g[T-1][0]==n&&g[T][0]==e){var K=g[T-1][1],H=g[T][1],V=h(K,H),Z=h(H,K);V>=Z?(V>=K.length/2||V>=H.length/2)&&(g.splice(T,0,[t,H.substring(0,V)]),g[T-1][1]=K.substring(0,K.length-V),g[T+1][1]=H.substring(V),T++):(Z>=K.length/2||Z>=H.length/2)&&(g.splice(T,0,[t,K.substring(0,Z)]),g[T-1][0]=e,g[T-1][1]=H.substring(0,H.length-Z),g[T+1][0]=n,g[T+1][1]=K.substring(Z),T++),T++}T++}}var f=/[^a-zA-Z0-9]/,b=/\s/,x=/[\r\n]/,w=/\n\r?\n$/,A=/^\r?\n\r?\n/;function S(g){function L(Z,U){if(!Z||!U)return 6;var le=Z.charAt(Z.length-1),oe=U.charAt(0),W=le.match(f),J=oe.match(f),Q=W&&le.match(b),ee=J&&oe.match(b),se=Q&&le.match(x),ne=ee&&oe.match(x),he=se&&Z.match(w),ye=ne&&U.match(A);return he||ye?5:se||ne?4:W&&!Q&&ee?3:Q||ee?2:W||J?1:0}for(var y=1;y<g.length-1;){if(g[y-1][0]==t&&g[y+1][0]==t){var q=g[y-1][1],C=g[y][1],T=g[y+1][1],j=d(q,C);if(j){var R=C.substring(C.length-j);q=q.substring(0,q.length-j),C=R+C.substring(0,C.length-j),T=R+T}for(var P=q,I=C,K=T,H=L(q,C)+L(C,T);C.charAt(0)===T.charAt(0);){q+=C.charAt(0),C=C.substring(1)+T.charAt(0),T=T.substring(1);var V=L(q,C)+L(C,T);V>=H&&(H=V,P=q,I=C,K=T)}g[y-1][1]!=P&&(P?g[y-1][1]=P:(g.splice(y-1,1),y--),g[y][1]=I,K?g[y+1][1]=K:(g.splice(y+1,1),y--))}y++}}function _(g,L){g.push([t,""]);for(var y=0,q=0,C=0,T="",j="",R;y<g.length;){if(y<g.length-1&&!g[y][1]){g.splice(y,1);continue}switch(g[y][0]){case e:C++,j+=g[y][1],y++;break;case n:q++,T+=g[y][1],y++;break;case t:var P=y-C-q-1;if(L){if(P>=0&&re(g[P][1])){var I=g[P][1].slice(-1);if(g[P][1]=g[P][1].slice(0,-1),T=I+T,j=I+j,!g[P][1]){g.splice(P,1),y--;var K=P-1;g[K]&&g[K][0]===e&&(C++,j=g[K][1]+j,K--),g[K]&&g[K][0]===n&&(q++,T=g[K][1]+T,K--),P=K}}if(F(g[y][1])){var I=g[y][1].charAt(0);g[y][1]=g[y][1].slice(1),T+=I,j+=I}}if(y<g.length-1&&!g[y][1]){g.splice(y,1);break}if(T.length>0||j.length>0){T.length>0&&j.length>0&&(R=o(j,T),R!==0&&(P>=0?g[P][1]+=j.substring(0,R):(g.splice(0,0,[t,j.substring(0,R)]),y++),j=j.substring(R),T=T.substring(R)),R=d(j,T),R!==0&&(g[y][1]=j.substring(j.length-R)+g[y][1],j=j.substring(0,j.length-R),T=T.substring(0,T.length-R)));var H=C+q;T.length===0&&j.length===0?(g.splice(y-H,H),y=y-H):T.length===0?(g.splice(y-H,H,[e,j]),y=y-H+1):j.length===0?(g.splice(y-H,H,[n,T]),y=y-H+1):(g.splice(y-H,H,[n,T],[e,j]),y=y-H+2)}y!==0&&g[y-1][0]===t?(g[y-1][1]+=g[y][1],g.splice(y,1)):y++,C=0,q=0,T="",j="";break}}g[g.length-1][1]===""&&g.pop();var V=!1;for(y=1;y<g.length-1;)g[y-1][0]===t&&g[y+1][0]===t&&(g[y][1].substring(g[y][1].length-g[y-1][1].length)===g[y-1][1]?(g[y][1]=g[y-1][1]+g[y][1].substring(0,g[y][1].length-g[y-1][1].length),g[y+1][1]=g[y-1][1]+g[y+1][1],g.splice(y-1,1),V=!0):g[y][1].substring(0,g[y+1][1].length)==g[y+1][1]&&(g[y-1][1]+=g[y+1][1],g[y][1]=g[y][1].substring(g[y+1][1].length)+g[y+1][1],g.splice(y+1,1),V=!0)),y++;V&&_(g,L)}function M(g){return g>=55296&&g<=56319}function G(g){return g>=56320&&g<=57343}function F(g){return G(g.charCodeAt(0))}function re(g){return M(g.charCodeAt(g.length-1))}function ue(g){for(var L=[],y=0;y<g.length;y++)g[y][1].length>0&&L.push(g[y]);return L}function pe(g,L,y,q){return re(g)||F(q)?null:ue([[t,g],[n,L],[e,y],[t,q]])}function Be(g,L,y){var q=typeof y=="number"?{index:y,length:0}:y.oldRange,C=typeof y=="number"?null:y.newRange,T=g.length,j=L.length;if(q.length===0&&(C===null||C.length===0)){var R=q.index,P=g.slice(0,R),I=g.slice(R),K=C?C.index:null;e:{var H=R+j-T;if(K!==null&&K!==H||H<0||H>j)break e;var V=L.slice(0,H),Z=L.slice(H);if(Z!==I)break e;var U=Math.min(R,H),le=P.slice(0,U),oe=V.slice(0,U);if(le!==oe)break e;var W=P.slice(U),J=V.slice(U);return pe(le,W,J,I)}e:{if(K!==null&&K!==R)break e;var Q=R,V=L.slice(0,Q),Z=L.slice(Q);if(V!==P)break e;var ee=Math.min(T-Q,j-Q),se=I.slice(I.length-ee),ne=Z.slice(Z.length-ee);if(se!==ne)break e;var W=I.slice(0,I.length-ee),J=Z.slice(0,Z.length-ee);return pe(P,W,J,se)}}if(q.length>0&&C&&C.length===0)e:{var le=g.slice(0,q.index),se=g.slice(q.index+q.length),U=le.length,ee=se.length;if(j<U+ee)break e;var oe=L.slice(0,U),ne=L.slice(j-ee);if(le!==oe||se!==ne)break e;var W=g.slice(U,T-ee),J=L.slice(U,j-ee);return pe(le,W,J,se)}return null}function Ce(g,L,y,q){return s(g,L,y,q,!0)}return Ce.INSERT=e,Ce.DELETE=n,Ce.EQUAL=t,Yr=Ce,Yr}var Ps={exports:{}};Ps.exports;var Al;function _a(){return Al||(Al=1,function(n,e){var t=200,s="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",a="[object Array]",o="[object Boolean]",h="[object Date]",d="[object Error]",m="[object Function]",v="[object GeneratorFunction]",f="[object Map]",b="[object Number]",x="[object Object]",w="[object Promise]",A="[object RegExp]",S="[object Set]",_="[object String]",M="[object Symbol]",G="[object WeakMap]",F="[object ArrayBuffer]",re="[object DataView]",ue="[object Float32Array]",pe="[object Float64Array]",Be="[object Int8Array]",Ce="[object Int16Array]",g="[object Int32Array]",L="[object Uint8Array]",y="[object Uint8ClampedArray]",q="[object Uint16Array]",C="[object Uint32Array]",T=/[\\^$.*+?()[\]{}|]/g,j=/\w*$/,R=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,I={};I[i]=I[a]=I[F]=I[re]=I[o]=I[h]=I[ue]=I[pe]=I[Be]=I[Ce]=I[g]=I[f]=I[b]=I[x]=I[A]=I[S]=I[_]=I[M]=I[L]=I[y]=I[q]=I[C]=!0,I[d]=I[m]=I[G]=!1;var K=typeof At=="object"&&At&&At.Object===Object&&At,H=typeof self=="object"&&self&&self.Object===Object&&self,V=K||H||Function("return this")(),Z=e&&!e.nodeType&&e,U=Z&&!0&&n&&!n.nodeType&&n,le=U&&U.exports===Z;function oe(l,c){return l.set(c[0],c[1]),l}function W(l,c){return l.add(c),l}function J(l,c){for(var p=-1,N=l?l.length:0;++p<N&&c(l[p],p,l)!==!1;);return l}function Q(l,c){for(var p=-1,N=c.length,z=l.length;++p<N;)l[z+p]=c[p];return l}function ee(l,c,p,N){for(var z=-1,$=l?l.length:0;++z<$;)p=c(p,l[z],z,l);return p}function se(l,c){for(var p=-1,N=Array(l);++p<l;)N[p]=c(p);return N}function ne(l,c){return l==null?void 0:l[c]}function he(l){var c=!1;if(l!=null&&typeof l.toString!="function")try{c=!!(l+"")}catch{}return c}function ye(l){var c=-1,p=Array(l.size);return l.forEach(function(N,z){p[++c]=[z,N]}),p}function xs(l,c){return function(p){return l(c(p))}}function ln(l){var c=-1,p=Array(l.size);return l.forEach(function(N){p[++c]=N}),p}var Jn=Array.prototype,er=Function.prototype,Vt=Object.prototype,Ns=V["__core-js_shared__"],an=function(){var l=/[^.]+$/.exec(Ns&&Ns.keys&&Ns.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),on=er.toString,Ve=Vt.hasOwnProperty,Zt=Vt.toString,tr=RegExp("^"+on.call(Ve).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=le?V.Buffer:void 0,Yt=V.Symbol,ws=V.Uint8Array,qe=xs(Object.getPrototypeOf,Object),cn=Object.create,un=Vt.propertyIsEnumerable,sr=Jn.splice,Es=Object.getOwnPropertySymbols,Xt=_t?_t.isBuffer:void 0,hn=xs(Object.keys,Object),Qt=De(V,"DataView"),It=De(V,"Map"),Me=De(V,"Promise"),Jt=De(V,"Set"),As=De(V,"WeakMap"),kt=De(Object,"create"),Ts=Ae(Qt),Rt=Ae(It),Ss=Ae(Me),Ls=Ae(Jt),Cs=Ae(As),xt=Yt?Yt.prototype:void 0,dn=xt?xt.valueOf:void 0;function at(l){var c=-1,p=l?l.length:0;for(this.clear();++c<p;){var N=l[c];this.set(N[0],N[1])}}function nr(){this.__data__=kt?kt(null):{}}function rr(l){return this.has(l)&&delete this.__data__[l]}function ir(l){var c=this.__data__;if(kt){var p=c[l];return p===s?void 0:p}return Ve.call(c,l)?c[l]:void 0}function fn(l){var c=this.__data__;return kt?c[l]!==void 0:Ve.call(c,l)}function js(l,c){var p=this.__data__;return p[l]=kt&&c===void 0?s:c,this}at.prototype.clear=nr,at.prototype.delete=rr,at.prototype.get=ir,at.prototype.has=fn,at.prototype.set=js;function ge(l){var c=-1,p=l?l.length:0;for(this.clear();++c<p;){var N=l[c];this.set(N[0],N[1])}}function lr(){this.__data__=[]}function ar(l){var c=this.__data__,p=ts(c,l);if(p<0)return!1;var N=c.length-1;return p==N?c.pop():sr.call(c,p,1),!0}function or(l){var c=this.__data__,p=ts(c,l);return p<0?void 0:c[p][1]}function cr(l){return ts(this.__data__,l)>-1}function ur(l,c){var p=this.__data__,N=ts(p,l);return N<0?p.push([l,c]):p[N][1]=c,this}ge.prototype.clear=lr,ge.prototype.delete=ar,ge.prototype.get=or,ge.prototype.has=cr,ge.prototype.set=ur;function ve(l){var c=-1,p=l?l.length:0;for(this.clear();++c<p;){var N=l[c];this.set(N[0],N[1])}}function hr(){this.__data__={hash:new at,map:new(It||ge),string:new at}}function dr(l){return Mt(this,l).delete(l)}function fr(l){return Mt(this,l).get(l)}function pr(l){return Mt(this,l).has(l)}function gr(l,c){return Mt(this,l).set(l,c),this}ve.prototype.clear=hr,ve.prototype.delete=dr,ve.prototype.get=fr,ve.prototype.has=pr,ve.prototype.set=gr;function Se(l){this.__data__=new ge(l)}function mr(){this.__data__=new ge}function br(l){return this.__data__.delete(l)}function yr(l){return this.__data__.get(l)}function vr(l){return this.__data__.has(l)}function xr(l,c){var p=this.__data__;if(p instanceof ge){var N=p.__data__;if(!It||N.length<t-1)return N.push([l,c]),this;p=this.__data__=new ve(N)}return p.set(l,c),this}Se.prototype.clear=mr,Se.prototype.delete=br,Se.prototype.get=yr,Se.prototype.has=vr,Se.prototype.set=xr;function es(l,c){var p=Is(l)||ns(l)?se(l.length,String):[],N=p.length,z=!!N;for(var $ in l)Ve.call(l,$)&&!(z&&($=="length"||kr($,N)))&&p.push($);return p}function pn(l,c,p){var N=l[c];(!(Ve.call(l,c)&&vn(N,p))||p===void 0&&!(c in l))&&(l[c]=p)}function ts(l,c){for(var p=l.length;p--;)if(vn(l[p][0],c))return p;return-1}function Ze(l,c){return l&&_s(c,Rs(c),l)}function qs(l,c,p,N,z,$,X){var Y;if(N&&(Y=$?N(l,z,$,X):N(l)),Y!==void 0)return Y;if(!Xe(l))return l;var de=Is(l);if(de){if(Y=_r(l),!c)return jr(l,Y)}else{var te=ct(l),xe=te==m||te==v;if(xn(l))return ss(l,c);if(te==x||te==i||xe&&!$){if(he(l))return $?l:{};if(Y=Ye(xe?{}:l),!c)return qr(l,Ze(Y,l))}else{if(!I[te])return $?l:{};Y=Ir(l,te,qs,c)}}X||(X=new Se);var Le=X.get(l);if(Le)return Le;if(X.set(l,Y),!de)var fe=p?Or(l):Rs(l);return J(fe||l,function(Ne,me){fe&&(me=Ne,Ne=l[me]),pn(Y,me,qs(Ne,c,p,N,me,l,X))}),Y}function Nr(l){return Xe(l)?cn(l):{}}function wr(l,c,p){var N=c(l);return Is(l)?N:Q(N,p(l))}function Er(l){return Zt.call(l)}function Ar(l){if(!Xe(l)||Br(l))return!1;var c=ks(l)||he(l)?tr:R;return c.test(Ae(l))}function Tr(l){if(!bn(l))return hn(l);var c=[];for(var p in Object(l))Ve.call(l,p)&&p!="constructor"&&c.push(p);return c}function ss(l,c){if(c)return l.slice();var p=new l.constructor(l.length);return l.copy(p),p}function Os(l){var c=new l.constructor(l.byteLength);return new ws(c).set(new ws(l)),c}function Bt(l,c){var p=c?Os(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.byteLength)}function gn(l,c,p){var N=c?p(ye(l),!0):ye(l);return ee(N,oe,new l.constructor)}function mn(l){var c=new l.constructor(l.source,j.exec(l));return c.lastIndex=l.lastIndex,c}function Sr(l,c,p){var N=c?p(ln(l),!0):ln(l);return ee(N,W,new l.constructor)}function Lr(l){return dn?Object(dn.call(l)):{}}function Cr(l,c){var p=c?Os(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.length)}function jr(l,c){var p=-1,N=l.length;for(c||(c=Array(N));++p<N;)c[p]=l[p];return c}function _s(l,c,p,N){p||(p={});for(var z=-1,$=c.length;++z<$;){var X=c[z],Y=void 0;pn(p,X,Y===void 0?l[X]:Y)}return p}function qr(l,c){return _s(l,ot(l),c)}function Or(l){return wr(l,Rs,ot)}function Mt(l,c){var p=l.__data__;return Rr(c)?p[typeof c=="string"?"string":"hash"]:p.map}function De(l,c){var p=ne(l,c);return Ar(p)?p:void 0}var ot=Es?xs(Es,Object):Dr,ct=Er;(Qt&&ct(new Qt(new ArrayBuffer(1)))!=re||It&&ct(new It)!=f||Me&&ct(Me.resolve())!=w||Jt&&ct(new Jt)!=S||As&&ct(new As)!=G)&&(ct=function(l){var c=Zt.call(l),p=c==x?l.constructor:void 0,N=p?Ae(p):void 0;if(N)switch(N){case Ts:return re;case Rt:return f;case Ss:return w;case Ls:return S;case Cs:return G}return c});function _r(l){var c=l.length,p=l.constructor(c);return c&&typeof l[0]=="string"&&Ve.call(l,"index")&&(p.index=l.index,p.input=l.input),p}function Ye(l){return typeof l.constructor=="function"&&!bn(l)?Nr(qe(l)):{}}function Ir(l,c,p,N){var z=l.constructor;switch(c){case F:return Os(l);case o:case h:return new z(+l);case re:return Bt(l,N);case ue:case pe:case Be:case Ce:case g:case L:case y:case q:case C:return Cr(l,N);case f:return gn(l,N,p);case b:case _:return new z(l);case A:return mn(l);case S:return Sr(l,N,p);case M:return Lr(l)}}function kr(l,c){return c=c??r,!!c&&(typeof l=="number"||P.test(l))&&l>-1&&l%1==0&&l<c}function Rr(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function Br(l){return!!an&&an in l}function bn(l){var c=l&&l.constructor,p=typeof c=="function"&&c.prototype||Vt;return l===p}function Ae(l){if(l!=null){try{return on.call(l)}catch{}try{return l+""}catch{}}return""}function yn(l){return qs(l,!0,!0)}function vn(l,c){return l===c||l!==l&&c!==c}function ns(l){return Mr(l)&&Ve.call(l,"callee")&&(!un.call(l,"callee")||Zt.call(l)==i)}var Is=Array.isArray;function rs(l){return l!=null&&Nn(l.length)&&!ks(l)}function Mr(l){return wn(l)&&rs(l)}var xn=Xt||Pr;function ks(l){var c=Xe(l)?Zt.call(l):"";return c==m||c==v}function Nn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=r}function Xe(l){var c=typeof l;return!!l&&(c=="object"||c=="function")}function wn(l){return!!l&&typeof l=="object"}function Rs(l){return rs(l)?es(l):Tr(l)}function Dr(){return[]}function Pr(){return!1}n.exports=yn}(Ps,Ps.exports)),Ps.exports}var $s={exports:{}};$s.exports;var Tl;function Ia(){return Tl||(Tl=1,function(n,e){var t=200,s="__lodash_hash_undefined__",r=1,i=2,a=9007199254740991,o="[object Arguments]",h="[object Array]",d="[object AsyncFunction]",m="[object Boolean]",v="[object Date]",f="[object Error]",b="[object Function]",x="[object GeneratorFunction]",w="[object Map]",A="[object Number]",S="[object Null]",_="[object Object]",M="[object Promise]",G="[object Proxy]",F="[object RegExp]",re="[object Set]",ue="[object String]",pe="[object Symbol]",Be="[object Undefined]",Ce="[object WeakMap]",g="[object ArrayBuffer]",L="[object DataView]",y="[object Float32Array]",q="[object Float64Array]",C="[object Int8Array]",T="[object Int16Array]",j="[object Int32Array]",R="[object Uint8Array]",P="[object Uint8ClampedArray]",I="[object Uint16Array]",K="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,U={};U[y]=U[q]=U[C]=U[T]=U[j]=U[R]=U[P]=U[I]=U[K]=!0,U[o]=U[h]=U[g]=U[m]=U[L]=U[v]=U[f]=U[b]=U[w]=U[A]=U[_]=U[F]=U[re]=U[ue]=U[Ce]=!1;var le=typeof At=="object"&&At&&At.Object===Object&&At,oe=typeof self=="object"&&self&&self.Object===Object&&self,W=le||oe||Function("return this")(),J=e&&!e.nodeType&&e,Q=J&&!0&&n&&!n.nodeType&&n,ee=Q&&Q.exports===J,se=ee&&le.process,ne=function(){try{return se&&se.binding&&se.binding("util")}catch{}}(),he=ne&&ne.isTypedArray;function ye(l,c){for(var p=-1,N=l==null?0:l.length,z=0,$=[];++p<N;){var X=l[p];c(X,p,l)&&($[z++]=X)}return $}function xs(l,c){for(var p=-1,N=c.length,z=l.length;++p<N;)l[z+p]=c[p];return l}function ln(l,c){for(var p=-1,N=l==null?0:l.length;++p<N;)if(c(l[p],p,l))return!0;return!1}function Jn(l,c){for(var p=-1,N=Array(l);++p<l;)N[p]=c(p);return N}function er(l){return function(c){return l(c)}}function Vt(l,c){return l.has(c)}function Ns(l,c){return l==null?void 0:l[c]}function an(l){var c=-1,p=Array(l.size);return l.forEach(function(N,z){p[++c]=[z,N]}),p}function on(l,c){return function(p){return l(c(p))}}function Ve(l){var c=-1,p=Array(l.size);return l.forEach(function(N){p[++c]=N}),p}var Zt=Array.prototype,tr=Function.prototype,_t=Object.prototype,Yt=W["__core-js_shared__"],ws=tr.toString,qe=_t.hasOwnProperty,cn=function(){var l=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),un=_t.toString,sr=RegExp("^"+ws.call(qe).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Es=ee?W.Buffer:void 0,Xt=W.Symbol,hn=W.Uint8Array,Qt=_t.propertyIsEnumerable,It=Zt.splice,Me=Xt?Xt.toStringTag:void 0,Jt=Object.getOwnPropertySymbols,As=Es?Es.isBuffer:void 0,kt=on(Object.keys,Object),Ts=ot(W,"DataView"),Rt=ot(W,"Map"),Ss=ot(W,"Promise"),Ls=ot(W,"Set"),Cs=ot(W,"WeakMap"),xt=ot(Object,"create"),dn=Ae(Ts),at=Ae(Rt),nr=Ae(Ss),rr=Ae(Ls),ir=Ae(Cs),fn=Xt?Xt.prototype:void 0,js=fn?fn.valueOf:void 0;function ge(l){var c=-1,p=l==null?0:l.length;for(this.clear();++c<p;){var N=l[c];this.set(N[0],N[1])}}function lr(){this.__data__=xt?xt(null):{},this.size=0}function ar(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}function or(l){var c=this.__data__;if(xt){var p=c[l];return p===s?void 0:p}return qe.call(c,l)?c[l]:void 0}function cr(l){var c=this.__data__;return xt?c[l]!==void 0:qe.call(c,l)}function ur(l,c){var p=this.__data__;return this.size+=this.has(l)?0:1,p[l]=xt&&c===void 0?s:c,this}ge.prototype.clear=lr,ge.prototype.delete=ar,ge.prototype.get=or,ge.prototype.has=cr,ge.prototype.set=ur;function ve(l){var c=-1,p=l==null?0:l.length;for(this.clear();++c<p;){var N=l[c];this.set(N[0],N[1])}}function hr(){this.__data__=[],this.size=0}function dr(l){var c=this.__data__,p=ss(c,l);if(p<0)return!1;var N=c.length-1;return p==N?c.pop():It.call(c,p,1),--this.size,!0}function fr(l){var c=this.__data__,p=ss(c,l);return p<0?void 0:c[p][1]}function pr(l){return ss(this.__data__,l)>-1}function gr(l,c){var p=this.__data__,N=ss(p,l);return N<0?(++this.size,p.push([l,c])):p[N][1]=c,this}ve.prototype.clear=hr,ve.prototype.delete=dr,ve.prototype.get=fr,ve.prototype.has=pr,ve.prototype.set=gr;function Se(l){var c=-1,p=l==null?0:l.length;for(this.clear();++c<p;){var N=l[c];this.set(N[0],N[1])}}function mr(){this.size=0,this.__data__={hash:new ge,map:new(Rt||ve),string:new ge}}function br(l){var c=De(this,l).delete(l);return this.size-=c?1:0,c}function yr(l){return De(this,l).get(l)}function vr(l){return De(this,l).has(l)}function xr(l,c){var p=De(this,l),N=p.size;return p.set(l,c),this.size+=p.size==N?0:1,this}Se.prototype.clear=mr,Se.prototype.delete=br,Se.prototype.get=yr,Se.prototype.has=vr,Se.prototype.set=xr;function es(l){var c=-1,p=l==null?0:l.length;for(this.__data__=new Se;++c<p;)this.add(l[c])}function pn(l){return this.__data__.set(l,s),this}function ts(l){return this.__data__.has(l)}es.prototype.add=es.prototype.push=pn,es.prototype.has=ts;function Ze(l){var c=this.__data__=new ve(l);this.size=c.size}function qs(){this.__data__=new ve,this.size=0}function Nr(l){var c=this.__data__,p=c.delete(l);return this.size=c.size,p}function wr(l){return this.__data__.get(l)}function Er(l){return this.__data__.has(l)}function Ar(l,c){var p=this.__data__;if(p instanceof ve){var N=p.__data__;if(!Rt||N.length<t-1)return N.push([l,c]),this.size=++p.size,this;p=this.__data__=new Se(N)}return p.set(l,c),this.size=p.size,this}Ze.prototype.clear=qs,Ze.prototype.delete=Nr,Ze.prototype.get=wr,Ze.prototype.has=Er,Ze.prototype.set=Ar;function Tr(l,c){var p=ns(l),N=!p&&vn(l),z=!p&&!N&&rs(l),$=!p&&!N&&!z&&wn(l),X=p||N||z||$,Y=X?Jn(l.length,String):[],de=Y.length;for(var te in l)qe.call(l,te)&&!(X&&(te=="length"||z&&(te=="offset"||te=="parent")||$&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||Ir(te,de)))&&Y.push(te);return Y}function ss(l,c){for(var p=l.length;p--;)if(yn(l[p][0],c))return p;return-1}function Os(l,c,p){var N=c(l);return ns(l)?N:xs(N,p(l))}function Bt(l){return l==null?l===void 0?Be:S:Me&&Me in Object(l)?ct(l):bn(l)}function gn(l){return Xe(l)&&Bt(l)==o}function mn(l,c,p,N,z){return l===c?!0:l==null||c==null||!Xe(l)&&!Xe(c)?l!==l&&c!==c:Sr(l,c,p,N,mn,z)}function Sr(l,c,p,N,z,$){var X=ns(l),Y=ns(c),de=X?h:Ye(l),te=Y?h:Ye(c);de=de==o?_:de,te=te==o?_:te;var xe=de==_,Le=te==_,fe=de==te;if(fe&&rs(l)){if(!rs(c))return!1;X=!0,xe=!1}if(fe&&!xe)return $||($=new Ze),X||wn(l)?_s(l,c,p,N,z,$):qr(l,c,de,p,N,z,$);if(!(p&r)){var Ne=xe&&qe.call(l,"__wrapped__"),me=Le&&qe.call(c,"__wrapped__");if(Ne||me){var Nt=Ne?l.value():l,ut=me?c.value():c;return $||($=new Ze),z(Nt,ut,p,N,$)}}return fe?($||($=new Ze),Or(l,c,p,N,z,$)):!1}function Lr(l){if(!Nn(l)||Rr(l))return!1;var c=xn(l)?sr:V;return c.test(Ae(l))}function Cr(l){return Xe(l)&&ks(l.length)&&!!U[Bt(l)]}function jr(l){if(!Br(l))return kt(l);var c=[];for(var p in Object(l))qe.call(l,p)&&p!="constructor"&&c.push(p);return c}function _s(l,c,p,N,z,$){var X=p&r,Y=l.length,de=c.length;if(Y!=de&&!(X&&de>Y))return!1;var te=$.get(l);if(te&&$.get(c))return te==c;var xe=-1,Le=!0,fe=p&i?new es:void 0;for($.set(l,c),$.set(c,l);++xe<Y;){var Ne=l[xe],me=c[xe];if(N)var Nt=X?N(me,Ne,xe,c,l,$):N(Ne,me,xe,l,c,$);if(Nt!==void 0){if(Nt)continue;Le=!1;break}if(fe){if(!ln(c,function(ut,Dt){if(!Vt(fe,Dt)&&(Ne===ut||z(Ne,ut,p,N,$)))return fe.push(Dt)})){Le=!1;break}}else if(!(Ne===me||z(Ne,me,p,N,$))){Le=!1;break}}return $.delete(l),$.delete(c),Le}function qr(l,c,p,N,z,$,X){switch(p){case L:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case g:return!(l.byteLength!=c.byteLength||!$(new hn(l),new hn(c)));case m:case v:case A:return yn(+l,+c);case f:return l.name==c.name&&l.message==c.message;case F:case ue:return l==c+"";case w:var Y=an;case re:var de=N&r;if(Y||(Y=Ve),l.size!=c.size&&!de)return!1;var te=X.get(l);if(te)return te==c;N|=i,X.set(l,c);var xe=_s(Y(l),Y(c),N,z,$,X);return X.delete(l),xe;case pe:if(js)return js.call(l)==js.call(c)}return!1}function Or(l,c,p,N,z,$){var X=p&r,Y=Mt(l),de=Y.length,te=Mt(c),xe=te.length;if(de!=xe&&!X)return!1;for(var Le=de;Le--;){var fe=Y[Le];if(!(X?fe in c:qe.call(c,fe)))return!1}var Ne=$.get(l);if(Ne&&$.get(c))return Ne==c;var me=!0;$.set(l,c),$.set(c,l);for(var Nt=X;++Le<de;){fe=Y[Le];var ut=l[fe],Dt=c[fe];if(N)var Wi=X?N(Dt,ut,fe,c,l,$):N(ut,Dt,fe,l,c,$);if(!(Wi===void 0?ut===Dt||z(ut,Dt,p,N,$):Wi)){me=!1;break}Nt||(Nt=fe=="constructor")}if(me&&!Nt){var En=l.constructor,An=c.constructor;En!=An&&"constructor"in l&&"constructor"in c&&!(typeof En=="function"&&En instanceof En&&typeof An=="function"&&An instanceof An)&&(me=!1)}return $.delete(l),$.delete(c),me}function Mt(l){return Os(l,Rs,_r)}function De(l,c){var p=l.__data__;return kr(c)?p[typeof c=="string"?"string":"hash"]:p.map}function ot(l,c){var p=Ns(l,c);return Lr(p)?p:void 0}function ct(l){var c=qe.call(l,Me),p=l[Me];try{l[Me]=void 0;var N=!0}catch{}var z=un.call(l);return N&&(c?l[Me]=p:delete l[Me]),z}var _r=Jt?function(l){return l==null?[]:(l=Object(l),ye(Jt(l),function(c){return Qt.call(l,c)}))}:Dr,Ye=Bt;(Ts&&Ye(new Ts(new ArrayBuffer(1)))!=L||Rt&&Ye(new Rt)!=w||Ss&&Ye(Ss.resolve())!=M||Ls&&Ye(new Ls)!=re||Cs&&Ye(new Cs)!=Ce)&&(Ye=function(l){var c=Bt(l),p=c==_?l.constructor:void 0,N=p?Ae(p):"";if(N)switch(N){case dn:return L;case at:return w;case nr:return M;case rr:return re;case ir:return Ce}return c});function Ir(l,c){return c=c??a,!!c&&(typeof l=="number"||Z.test(l))&&l>-1&&l%1==0&&l<c}function kr(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function Rr(l){return!!cn&&cn in l}function Br(l){var c=l&&l.constructor,p=typeof c=="function"&&c.prototype||_t;return l===p}function bn(l){return un.call(l)}function Ae(l){if(l!=null){try{return ws.call(l)}catch{}try{return l+""}catch{}}return""}function yn(l,c){return l===c||l!==l&&c!==c}var vn=gn(function(){return arguments}())?gn:function(l){return Xe(l)&&qe.call(l,"callee")&&!Qt.call(l,"callee")},ns=Array.isArray;function Is(l){return l!=null&&ks(l.length)&&!xn(l)}var rs=As||Pr;function Mr(l,c){return mn(l,c)}function xn(l){if(!Nn(l))return!1;var c=Bt(l);return c==b||c==x||c==d||c==G}function ks(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=a}function Nn(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}function Xe(l){return l!=null&&typeof l=="object"}var wn=he?er(he):Cr;function Rs(l){return Is(l)?Tr(l):jr(l)}function Dr(){return[]}function Pr(){return!1}n.exports=Mr}($s,$s.exports)),$s.exports}var Ln={},Sl;function Wf(){if(Sl)return Ln;Sl=1,Object.defineProperty(Ln,"__esModule",{value:!0});const n=_a(),e=Ia();var t;return function(s){function r(h={},d={},m=!1){typeof h!="object"&&(h={}),typeof d!="object"&&(d={});let v=n(d);m||(v=Object.keys(v).reduce((f,b)=>(v[b]!=null&&(f[b]=v[b]),f),{}));for(const f in h)h[f]!==void 0&&d[f]===void 0&&(v[f]=h[f]);return Object.keys(v).length>0?v:void 0}s.compose=r;function i(h={},d={}){typeof h!="object"&&(h={}),typeof d!="object"&&(d={});const m=Object.keys(h).concat(Object.keys(d)).reduce((v,f)=>(e(h[f],d[f])||(v[f]=d[f]===void 0?null:d[f]),v),{});return Object.keys(m).length>0?m:void 0}s.diff=i;function a(h={},d={}){h=h||{};const m=Object.keys(d).reduce((v,f)=>(d[f]!==h[f]&&h[f]!==void 0&&(v[f]=d[f]),v),{});return Object.keys(h).reduce((v,f)=>(h[f]!==d[f]&&d[f]===void 0&&(v[f]=null),v),m)}s.invert=a;function o(h,d,m=!1){if(typeof h!="object")return d;if(typeof d!="object")return;if(!m)return d;const v=Object.keys(d).reduce((f,b)=>(h[b]===void 0&&(f[b]=d[b]),f),{});return Object.keys(v).length>0?v:void 0}s.transform=o}(t||(t={})),Ln.default=t,Ln}var Cn={},Ll;function ka(){if(Ll)return Cn;Ll=1,Object.defineProperty(Cn,"__esModule",{value:!0});var n;return function(e){function t(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}e.length=t}(n||(n={})),Cn.default=n,Cn}var jn={},Cl;function Vf(){if(Cl)return jn;Cl=1,Object.defineProperty(jn,"__esModule",{value:!0});const n=ka();class e{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const r=this.ops[this.index];if(r){const i=this.offset,a=n.default.length(r);if(s>=a-i?(s=a-i,this.index+=1,this.offset=0):this.offset+=s,typeof r.delete=="number")return{delete:s};{const o={};return r.attributes&&(o.attributes=r.attributes),typeof r.retain=="number"?o.retain=s:typeof r.retain=="object"&&r.retain!==null?o.retain=r.retain:typeof r.insert=="string"?o.insert=r.insert.substr(i,s):o.insert=r.insert,o}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,r=this.index,i=this.next(),a=this.ops.slice(this.index);return this.offset=s,this.index=r,[i].concat(a)}}else return[]}}return jn.default=e,jn}var jl;function Zf(){return jl||(jl=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=Kf(),s=_a(),r=Ia(),i=Wf();e.AttributeMap=i.default;const a=ka();e.Op=a.default;const o=Vf();e.OpIterator=o.default;const h="\0",d=(v,f)=>{if(typeof v!="object"||v===null)throw new Error(`cannot retain a ${typeof v}`);if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);const b=Object.keys(v)[0];if(!b||b!==Object.keys(f)[0])throw new Error(`embed types not matched: ${b} != ${Object.keys(f)[0]}`);return[b,v[b],f[b]]};class m{constructor(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]}static registerEmbed(f,b){this.handlers[f]=b}static unregisterEmbed(f){delete this.handlers[f]}static getHandler(f){const b=this.handlers[f];if(!b)throw new Error(`no handlers for embed type "${f}"`);return b}insert(f,b){const x={};return typeof f=="string"&&f.length===0?this:(x.insert=f,b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(x.attributes=b),this.push(x))}delete(f){return f<=0?this:this.push({delete:f})}retain(f,b){if(typeof f=="number"&&f<=0)return this;const x={retain:f};return b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(x.attributes=b),this.push(x)}push(f){let b=this.ops.length,x=this.ops[b-1];if(f=s(f),typeof x=="object"){if(typeof f.delete=="number"&&typeof x.delete=="number")return this.ops[b-1]={delete:x.delete+f.delete},this;if(typeof x.delete=="number"&&f.insert!=null&&(b-=1,x=this.ops[b-1],typeof x!="object"))return this.ops.unshift(f),this;if(r(f.attributes,x.attributes)){if(typeof f.insert=="string"&&typeof x.insert=="string")return this.ops[b-1]={insert:x.insert+f.insert},typeof f.attributes=="object"&&(this.ops[b-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof x.retain=="number")return this.ops[b-1]={retain:x.retain+f.retain},typeof f.attributes=="object"&&(this.ops[b-1].attributes=f.attributes),this}}return b===this.ops.length?this.ops.push(f):this.ops.splice(b,0,f),this}chop(){const f=this.ops[this.ops.length-1];return f&&typeof f.retain=="number"&&!f.attributes&&this.ops.pop(),this}filter(f){return this.ops.filter(f)}forEach(f){this.ops.forEach(f)}map(f){return this.ops.map(f)}partition(f){const b=[],x=[];return this.forEach(w=>{(f(w)?b:x).push(w)}),[b,x]}reduce(f,b){return this.ops.reduce(f,b)}changeLength(){return this.reduce((f,b)=>b.insert?f+a.default.length(b):b.delete?f-b.delete:f,0)}length(){return this.reduce((f,b)=>f+a.default.length(b),0)}slice(f=0,b=1/0){const x=[],w=new o.default(this.ops);let A=0;for(;A<b&&w.hasNext();){let S;A<f?S=w.next(f-A):(S=w.next(b-A),x.push(S)),A+=a.default.length(S)}return new m(x)}compose(f){const b=new o.default(this.ops),x=new o.default(f.ops),w=[],A=x.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let _=A.retain;for(;b.peekType()==="insert"&&b.peekLength()<=_;)_-=b.peekLength(),w.push(b.next());A.retain-_>0&&x.next(A.retain-_)}const S=new m(w);for(;b.hasNext()||x.hasNext();)if(x.peekType()==="insert")S.push(x.next());else if(b.peekType()==="delete")S.push(b.next());else{const _=Math.min(b.peekLength(),x.peekLength()),M=b.next(_),G=x.next(_);if(G.retain){const F={};if(typeof M.retain=="number")F.retain=typeof G.retain=="number"?_:G.retain;else if(typeof G.retain=="number")M.retain==null?F.insert=M.insert:F.retain=M.retain;else{const ue=M.retain==null?"insert":"retain",[pe,Be,Ce]=d(M[ue],G.retain),g=m.getHandler(pe);F[ue]={[pe]:g.compose(Be,Ce,ue==="retain")}}const re=i.default.compose(M.attributes,G.attributes,typeof M.retain=="number");if(re&&(F.attributes=re),S.push(F),!x.hasNext()&&r(S.ops[S.ops.length-1],F)){const ue=new m(b.rest());return S.concat(ue).chop()}}else typeof G.delete=="number"&&(typeof M.retain=="number"||typeof M.retain=="object"&&M.retain!==null)&&S.push(G)}return S.chop()}concat(f){const b=new m(this.ops.slice());return f.ops.length>0&&(b.push(f.ops[0]),b.ops=b.ops.concat(f.ops.slice(1))),b}diff(f,b){if(this.ops===f.ops)return new m;const x=[this,f].map(M=>M.map(G=>{if(G.insert!=null)return typeof G.insert=="string"?G.insert:h;const F=M===f?"on":"with";throw new Error("diff() called "+F+" non-document")}).join("")),w=new m,A=t(x[0],x[1],b,!0),S=new o.default(this.ops),_=new o.default(f.ops);return A.forEach(M=>{let G=M[1].length;for(;G>0;){let F=0;switch(M[0]){case t.INSERT:F=Math.min(_.peekLength(),G),w.push(_.next(F));break;case t.DELETE:F=Math.min(G,S.peekLength()),S.next(F),w.delete(F);break;case t.EQUAL:F=Math.min(S.peekLength(),_.peekLength(),G);const re=S.next(F),ue=_.next(F);r(re.insert,ue.insert)?w.retain(F,i.default.diff(re.attributes,ue.attributes)):w.push(ue).delete(F);break}G-=F}}),w.chop()}eachLine(f,b=`
`){const x=new o.default(this.ops);let w=new m,A=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const S=x.peek(),_=a.default.length(S)-x.peekLength(),M=typeof S.insert=="string"?S.insert.indexOf(b,_)-_:-1;if(M<0)w.push(x.next());else if(M>0)w.push(x.next(M));else{if(f(w,x.next(1).attributes||{},A)===!1)return;A+=1,w=new m}}w.length()>0&&f(w,{},A)}invert(f){const b=new m;return this.reduce((x,w)=>{if(w.insert)b.delete(a.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return b.retain(w.retain),x+w.retain;if(w.delete||typeof w.retain=="number"){const A=w.delete||w.retain;return f.slice(x,x+A).forEach(_=>{w.delete?b.push(_):w.retain&&w.attributes&&b.retain(a.default.length(_),i.default.invert(w.attributes,_.attributes))}),x+A}else if(typeof w.retain=="object"&&w.retain!==null){const A=f.slice(x,x+1),S=new o.default(A.ops).next(),[_,M,G]=d(w.retain,S.insert),F=m.getHandler(_);return b.retain({[_]:F.invert(M,G)},i.default.invert(w.attributes,S.attributes)),x+1}}return x},0),b.chop()}transform(f,b=!1){if(b=!!b,typeof f=="number")return this.transformPosition(f,b);const x=f,w=new o.default(this.ops),A=new o.default(x.ops),S=new m;for(;w.hasNext()||A.hasNext();)if(w.peekType()==="insert"&&(b||A.peekType()!=="insert"))S.retain(a.default.length(w.next()));else if(A.peekType()==="insert")S.push(A.next());else{const _=Math.min(w.peekLength(),A.peekLength()),M=w.next(_),G=A.next(_);if(M.delete)continue;if(G.delete)S.push(G);else{const F=M.retain,re=G.retain;let ue=typeof re=="object"&&re!==null?re:_;if(typeof F=="object"&&F!==null&&typeof re=="object"&&re!==null){const pe=Object.keys(F)[0];if(pe===Object.keys(re)[0]){const Be=m.getHandler(pe);Be&&(ue={[pe]:Be.transform(F[pe],re[pe],b)})}}S.retain(ue,i.default.transform(M.attributes,G.attributes,b))}}return S.chop()}transformPosition(f,b=!1){b=!!b;const x=new o.default(this.ops);let w=0;for(;x.hasNext()&&w<=f;){const A=x.peekLength(),S=x.peekType();if(x.next(),S==="delete"){f-=Math.min(A,f-w);continue}else S==="insert"&&(w<f||!b)&&(f+=A);w+=A}return f}}m.Op=a.default,m.OpIterator=o.default,m.AttributeMap=i.default,m.handlers={},e.default=m,n.exports=m,n.exports.default=m}(Sn,Sn.exports)),Sn.exports}var Re=Zf();const B=ea(Re);class Ke extends je{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Ke.blotName="break";Ke.tagName="BR";let ze=class extends Fn{};const Yf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Yn(n){return n.replace(/[&<>"']/g,e=>Yf[e])}const Je=class Je extends Ri{static compare(e,t){const s=Je.order.indexOf(e),r=Je.order.indexOf(t);return s>=0||r>=0?s-r:e===t?0:e<t?-1:1}formatAt(e,t,s,r){if(Je.compare(this.statics.blotName,s)<0&&this.scroll.query(s,D.BLOT)){const i=this.isolate(e,t);r&&i.wrap(s,r)}else super.formatAt(e,t,s,r)}optimize(e){if(super.optimize(e),this.parent instanceof Je&&Je.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};O(Je,"allowedChildren",[Je,Ke,je,ze]),O(Je,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let rt=Je;const ql=1;class be extends Zs{constructor(){super(...arguments);O(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Ra(this)),this.cache.delta}deleteAt(t,s){super.deleteAt(t,s),this.cache={}}formatAt(t,s,r,i){s<=0||(this.scroll.query(r,D.BLOCK)?t+s===this.length()&&this.format(r,i):super.formatAt(t,Math.min(s,this.length()-t-1),r,i),this.cache={})}insertAt(t,s,r){if(r!=null){super.insertAt(t,s,r),this.cache={};return}if(s.length===0)return;const i=s.split(`
`),a=i.shift();a.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let o=this;i.reduce((h,d)=>(o=o.split(h,!0),o.insertAt(0,d),d.length),t+a.length)}insertBefore(t,s){const{head:r}=this.children;super.insertBefore(t,s),r instanceof Ke&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+ql),this.cache.length}moveChildren(t,s){super.moveChildren(t,s),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(t===0||t>=this.length()-ql)){const i=this.clone();return t===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const r=super.split(t,s);return this.cache={},r}}be.blotName="block";be.tagName="P";be.defaultChild=Ke;be.allowedChildren=[Ke,rt,je,ze];class ke extends je{attach(){super.attach(),this.attributes=new Vn(this.domNode)}delta(){return new B().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const s=this.scroll.query(e,D.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,t)}formatAt(e,t,s,r){this.format(s,r)}insertAt(e,t,s){if(s!=null){super.insertAt(e,t,s);return}const r=t.split(`
`),i=r.pop(),a=r.map(h=>{const d=this.scroll.create(be.blotName);return d.insertAt(0,h),d}),o=this.split(e);a.forEach(h=>{this.parent.insertBefore(h,o)}),i&&this.parent.insertBefore(this.scroll.create("text",i),o)}}ke.scope=D.BLOCK_BLOT;function Ra(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(we).reduce((t,s)=>s.length()===0?t:t.insert(s.value(),_e(s,{},e)),new B).insert(`
`,_e(n))}function _e(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:_e(n.parent,e,t)}const Oe=class Oe extends je{static value(){}constructor(e,t,s){super(e,t),this.selection=s,this.textNode=document.createTextNode(Oe.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let s=this,r=0;for(;s!=null&&s.statics.scope!==D.BLOCK_BLOT;)r+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=Oe.CONTENTS.length,s.optimize(),s.formatAt(r,Oe.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof ze?this.prev:null,s=t?t.length():0,r=this.next instanceof ze?this.next:null,i=r?r.text:"",{textNode:a}=this,o=a.data.split(Oe.CONTENTS).join("");a.data=Oe.CONTENTS;let h;if(t)h=t,(o||r)&&(t.insertAt(t.length(),o+i),r&&r.remove());else if(r)h=r,r.insertAt(0,o);else{const d=document.createTextNode(o);h=this.scroll.create(d),this.parent.insertBefore(h,this)}if(this.remove(),e){const d=(f,b)=>t&&f===t.domNode?b:f===a?s+b-1:r&&f===r.domNode?s+o.length+b:null,m=d(e.start.node,e.start.offset),v=d(e.end.node,e.end.offset);if(m!==null&&v!==null)return{startNode:h.domNode,startOffset:m,endNode:h.domNode,endOffset:v}}return null}update(e,t){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(t.range=s)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Oe.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};O(Oe,"blotName","cursor"),O(Oe,"className","ql-cursor"),O(Oe,"tagName","span"),O(Oe,"CONTENTS","\uFEFF");let ms=Oe;var Xr={exports:{}},Ol;function Xf(){return Ol||(Ol=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function r(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function i(h,d,m,v,f){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new r(m,v||h,f),x=t?t+d:d;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],b]:h._events[x].push(b):(h._events[x]=b,h._eventsCount++),h}function a(h,d){--h._eventsCount===0?h._events=new s:delete h._events[d]}function o(){this._events=new s,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],m,v;if(this._eventsCount===0)return d;for(v in m=this._events)e.call(m,v)&&d.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},o.prototype.listeners=function(d){var m=t?t+d:d,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var f=0,b=v.length,x=new Array(b);f<b;f++)x[f]=v[f].fn;return x},o.prototype.listenerCount=function(d){var m=t?t+d:d,v=this._events[m];return v?v.fn?1:v.length:0},o.prototype.emit=function(d,m,v,f,b,x){var w=t?t+d:d;if(!this._events[w])return!1;var A=this._events[w],S=arguments.length,_,M;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,v),!0;case 4:return A.fn.call(A.context,m,v,f),!0;case 5:return A.fn.call(A.context,m,v,f,b),!0;case 6:return A.fn.call(A.context,m,v,f,b,x),!0}for(M=1,_=new Array(S-1);M<S;M++)_[M-1]=arguments[M];A.fn.apply(A.context,_)}else{var G=A.length,F;for(M=0;M<G;M++)switch(A[M].once&&this.removeListener(d,A[M].fn,void 0,!0),S){case 1:A[M].fn.call(A[M].context);break;case 2:A[M].fn.call(A[M].context,m);break;case 3:A[M].fn.call(A[M].context,m,v);break;case 4:A[M].fn.call(A[M].context,m,v,f);break;default:if(!_)for(F=1,_=new Array(S-1);F<S;F++)_[F-1]=arguments[F];A[M].fn.apply(A[M].context,_)}}return!0},o.prototype.on=function(d,m,v){return i(this,d,m,v,!1)},o.prototype.once=function(d,m,v){return i(this,d,m,v,!0)},o.prototype.removeListener=function(d,m,v,f){var b=t?t+d:d;if(!this._events[b])return this;if(!m)return a(this,b),this;var x=this._events[b];if(x.fn)x.fn===m&&(!f||x.once)&&(!v||x.context===v)&&a(this,b);else{for(var w=0,A=[],S=x.length;w<S;w++)(x[w].fn!==m||f&&!x[w].once||v&&x[w].context!==v)&&A.push(x[w]);A.length?this._events[b]=A.length===1?A[0]:A:a(this,b)}return this},o.prototype.removeAllListeners=function(d){var m;return d?(m=t?t+d:d,this._events[m]&&a(this,m)):(this._events=new s,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o}(Xr)),Xr.exports}var Qf=Xf();const Jf=ea(Qf),yi=new WeakMap,vi=["error","warn","log","info"];let xi="warn";function Ba(n){if(xi&&vi.indexOf(n)<=vi.indexOf(xi)){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];console[n](...t)}}function vt(n){return vi.reduce((e,t)=>(e[t]=Ba.bind(console,t,n),e),{})}vt.level=n=>{xi=n};Ba.level=vt.level;const Qr=vt("quill:events"),ep=["selectionchange","mousedown","mouseup","click"];ep.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const i=yi.get(r);i&&i.emitter&&i.emitter.handleDOM(...t)})})});class k extends Jf{constructor(){super(),this.domListeners={},this.on("error",Qr.error)}emit(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Qr.log.call(Qr,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];(this.domListeners[e.type]||[]).forEach(i=>{let{node:a,handler:o}=i;(e.target===a||a.contains(e.target))&&o(e,...s)})}listenDOM(e,t,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:s})}}O(k,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),O(k,"sources",{API:"api",SILENT:"silent",USER:"user"});const Jr=vt("quill:selection");class Ut{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class tp{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ut(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,k.sources.USER),1)}),this.emitter.on(k.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(k.events.SCROLL_UPDATE,(r,i)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const a=i.some(o=>o.type==="characterData"||o.type==="childList"||o.type==="attributes"&&o.target===this.root);this.update(a?k.sources.SILENT:r)}catch{}})}),this.emitter.on(k.events.SCROLL_OPTIMIZE,(s,r)=>{if(r.range){const{startNode:i,startOffset:a,endNode:o,endOffset:h}=r.range;this.setNativeRange(i,a,o,h),this.update(k.sources.SILENT)}}),this.update(k.sources.SILENT)}handleComposition(){this.emitter.on(k.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(k.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(k.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,D.BLOCK))){if(s.start.node!==this.cursor.textNode){const r=this.scroll.find(s.start.node,!1);if(r==null)return;if(r instanceof we){const i=r.split(s.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),t=Math.min(e+t,s-1)-e;let r,[i,a]=this.scroll.leaf(e);if(i==null)return null;if(t>0&&a===i.length()){const[m]=this.scroll.leaf(e+1);if(m){const[v]=this.scroll.line(e),[f]=this.scroll.line(e+1);v===f&&(i=m,a=0)}}[r,a]=i.position(a,!0);const o=document.createRange();if(t>0)return o.setStart(r,a),[i,a]=this.scroll.leaf(e+t),i==null?null:([r,a]=i.position(a,!0),o.setEnd(r,a),o.getBoundingClientRect());let h="left",d;if(r instanceof Text){if(!r.data.length)return null;a<r.data.length?(o.setStart(r,a),o.setEnd(r,a+1)):(o.setStart(r,a-1),o.setEnd(r,a),h="right"),d=o.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;d=i.domNode.getBoundingClientRect(),a>0&&(h="right")}return{bottom:d.top+d.height,height:d.height,left:d[h],right:d[h],top:d.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const s=this.normalizeNative(t);return Jr.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ei(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const s=t.map(a=>{const[o,h]=a,d=this.scroll.find(o,!0),m=d.offset(this.scroll);return h===0?m:d instanceof we?m+d.index(o,h):m+d.length()}),r=Math.min(Math.max(...s),this.scroll.length()-1),i=Math.min(r,...s);return new Ut(i,r-i)}normalizeNative(e){if(!ei(this.root,e.startContainer)||!e.collapsed&&!ei(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(s=>{let{node:r,offset:i}=s;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>i)r=r.childNodes[i],i=0;else if(r.childNodes.length===i)r=r.lastChild,r instanceof Text?i=r.data.length:r.childNodes.length>0?i=r.childNodes.length:i=r.childNodes.length+1;else break;s.node=r,s.offset=i}),t}rangeToNative(e){const t=this.scroll.length(),s=(r,i)=>{r=Math.min(t-1,r);const[a,o]=this.scroll.leaf(r);return a?a.position(o,i):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Jr.info("setNativeRange",e,t,s,r),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const a=document.getSelection();if(a!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(o==null||i||e!==o.startContainer||t!==o.startOffset||s!==o.endContainer||r!==o.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(r=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const h=document.createRange();h.setStart(e,t),h.setEnd(s,r),a.removeAllRanges(),a.addRange(h)}}else a.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.sources.API;if(typeof t=="string"&&(s=t,t=!1),Jr.info("setRange",e),e!=null){const r=this.rangeToNative(e);this.setNativeRange(...r,t)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.sources.USER;const t=this.lastRange,[s,r]=this.getRange();if(this.lastRange=s,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!Et(t,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const i=[k.events.SELECTION_CHANGE,hs(this.lastRange),hs(t),e];this.emitter.emit(k.events.EDITOR_CHANGE,...i),e!==k.sources.SILENT&&this.emitter.emit(...i)}}}function ei(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const sp=/^[ -~]*$/;class np{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const s=_l(e),r=new B;return ip(s.ops.slice()).reduce((a,o)=>{const h=Re.Op.length(o);let d=o.attributes||{},m=!1,v=!1;if(o.insert!=null){if(r.retain(h),typeof o.insert=="string"){const x=o.insert;v=!x.endsWith(`
`)&&(t<=a||!!this.scroll.descendant(ke,a)[0]),this.scroll.insertAt(a,x);const[w,A]=this.scroll.line(a);let S=Lt({},_e(w));if(w instanceof be){const[_]=w.descendant(we,A);_&&(S=Lt(S,_e(_)))}d=Re.AttributeMap.diff(S,d)||{}}else if(typeof o.insert=="object"){const x=Object.keys(o.insert)[0];if(x==null)return a;const w=this.scroll.query(x,D.INLINE)!=null;if(w)(t<=a||this.scroll.descendant(ke,a)[0])&&(v=!0);else if(a>0){const[A,S]=this.scroll.descendant(we,a-1);A instanceof ze?A.value()[S]!==`
`&&(m=!0):A instanceof je&&A.statics.scope===D.INLINE_BLOT&&(m=!0)}if(this.scroll.insertAt(a,x,o.insert[x]),w){const[A]=this.scroll.descendant(we,a);if(A){const S=Lt({},_e(A));d=Re.AttributeMap.diff(S,d)||{}}}}t+=h}else if(r.push(o),o.retain!==null&&typeof o.retain=="object"){const x=Object.keys(o.retain)[0];if(x==null)return a;this.scroll.updateEmbedAt(a,x,o.retain[x])}Object.keys(d).forEach(x=>{this.scroll.formatAt(a,h,x,d[x])});const f=m?1:0,b=v?1:0;return t+=f+b,r.retain(f),r.delete(b),a+h+f+b},0),r.reduce((a,o)=>typeof o.delete=="number"?(this.scroll.deleteAt(a,o.delete),a):a+Re.Op.length(o),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new B().retain(e).delete(t))}formatLine(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(i=>{this.scroll.lines(e,Math.max(t,1)).forEach(a=>{a.format(i,s[i])})}),this.scroll.optimize();const r=new B().retain(e).retain(t,hs(s));return this.update(r)}formatText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(i=>{this.scroll.formatAt(e,t,i,s[i])});const r=new B().retain(e).retain(t,hs(s));return this.update(r)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new B)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],r=[];t===0?this.scroll.path(e).forEach(o=>{const[h]=o;h instanceof be?s.push(h):h instanceof we&&r.push(h)}):(s=this.scroll.lines(e,t),r=this.scroll.descendants(we,e,t));const[i,a]=[s,r].map(o=>{const h=o.shift();if(h==null)return{};let d=_e(h);for(;Object.keys(d).length>0;){const m=o.shift();if(m==null)return d;d=rp(_e(m),d)}return d});return{...i,...a}}getHTML(e,t){const[s,r]=this.scroll.line(e);if(s){const i=s.length();return s.length()>=r+t&&!(r===0&&t===i)?Ys(s,r,t,!0):Ys(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,t){const s=_l(t),r=new B().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(r)}insertEmbed(e,t,s){return this.scroll.insertAt(e,t,s),this.update(new B().retain(e).insert({[t]:s}))}insertText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(s).forEach(r=>{this.scroll.formatAt(e,t.length,r,s[r])}),this.update(new B().retain(e).insert(t,hs(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==be.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof Ke}removeFormat(e,t){const s=this.getText(e,t),[r,i]=this.scroll.line(e+t);let a=0,o=new B;r!=null&&(a=r.length()-i,o=r.delta().slice(i,i+a-1).insert(`
`));const d=this.getContents(e,t+a).diff(new B().insert(s).concat(o)),m=new B().retain(e).concat(d);return this.applyDelta(m)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(sp)&&this.scroll.find(t[0].target)){const i=this.scroll.find(t[0].target),a=_e(i),o=i.offset(this.scroll),h=t[0].oldValue.replace(ms.CONTENTS,""),d=new B().insert(h),m=new B().insert(i.value()),v=s&&{oldRange:Il(s.oldRange,-o),newRange:Il(s.newRange,-o)};e=new B().retain(o).concat(d.diff(m,v)).reduce((b,x)=>x.insert?b.insert(x.insert,a):b.push(x),new B),this.delta=r.compose(e)}else this.delta=this.getDelta(),(!e||!Et(r.compose(e),this.delta))&&(e=r.diff(this.delta,s));return e}}function cs(n,e,t){if(n.length===0){const[b]=ti(t.pop());return e<=0?`</li></${b}>`:`</li></${b}>${cs([],e-1,t)}`}const[{child:s,offset:r,length:i,indent:a,type:o},...h]=n,[d,m]=ti(o);if(a>e)return t.push(o),a===e+1?`<${d}><li${m}>${Ys(s,r,i)}${cs(h,a,t)}`:`<${d}><li>${cs(n,e+1,t)}`;const v=t[t.length-1];if(a===e&&o===v)return`</li><li${m}>${Ys(s,r,i)}${cs(h,a,t)}`;const[f]=ti(t.pop());return`</li></${f}>${cs(n,e-1,t)}`}function Ys(n,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof ze)return Yn(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof He){if(n.statics.blotName==="list-container"){const d=[];return n.children.forEachAt(e,t,(m,v,f)=>{const b="formats"in m&&typeof m.formats=="function"?m.formats():{};d.push({child:m,offset:v,length:f,indent:b.indent||0,type:b.list})}),cs(d,-1,[])}const r=[];if(n.children.forEachAt(e,t,(d,m,v)=>{r.push(Ys(d,m,v))}),s||n.statics.blotName==="list")return r.join("");const{outerHTML:i,innerHTML:a}=n.domNode,[o,h]=i.split(`>${a}<`);return o==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${h}`:`${o}>${r.join("")}<${h}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function rp(n,e){return Object.keys(e).reduce((t,s)=>{if(n[s]==null)return t;const r=e[s];return r===n[s]?t[s]=r:Array.isArray(r)?r.indexOf(n[s])<0?t[s]=r.concat([n[s]]):t[s]=r:t[s]=[r,n[s]],t},{})}function ti(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function _l(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const s=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,t.attributes)}return e.push(t)},new B)}function Il(n,e){let{index:t,length:s}=n;return new Ut(t+e,s)}function ip(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((r,i)=>{i&&e.push({insert:`
`,attributes:t.attributes}),r&&e.push({insert:r,attributes:t.attributes})}):e.push(t)}),e}class We{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}O(We,"DEFAULTS",{});const qn="\uFEFF";class Mi extends je{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(qn),this.rightGuard=document.createTextNode(qn),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,s;const r=e.data.split(qn).join("");if(e===this.leftGuard)if(this.prev instanceof ze){const i=this.prev.length();this.prev.insertAt(i,r),t={startNode:this.prev.domNode,startOffset:i+r.length}}else s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this),t={startNode:s,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof ze?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this.next),t={startNode:s,startOffset:r.length}));return e.data=qn,t}update(e,t){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const r=this.restore(s.target);r&&(t.range=r)}})}}class lp{constructor(e,t){O(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Mi)&&(this.emitter.emit(k.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(k.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(k.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(k.events.COMPOSITION_END,e),this.isComposing=!1}}const zs=class zs{constructor(e,t){O(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};O(zs,"DEFAULTS",{modules:{}}),O(zs,"themes",{default:zs});let bs=zs;const ap=n=>n.parentElement||n.getRootNode().host||null,op=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,s="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*s,left:e.left}},On=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},kl=(n,e,t,s,r,i)=>n<t&&e>s?0:n<t?-(t-n+r):e>s?e-n>s-t?n+r-t:e-s+i:0,cp=(n,e)=>{var i,a,o;const t=n.ownerDocument;let s=e,r=n;for(;r;){const h=r===t.body,d=h?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??t.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??t.documentElement.clientHeight,left:0}:op(r),m=getComputedStyle(r),v=kl(s.left,s.right,d.left,d.right,On(m.scrollPaddingLeft),On(m.scrollPaddingRight)),f=kl(s.top,s.bottom,d.top,d.bottom,On(m.scrollPaddingTop),On(m.scrollPaddingBottom));if(v||f)if(h)(o=t.defaultView)==null||o.scrollBy(v,f);else{const{scrollLeft:b,scrollTop:x}=r;f&&(r.scrollTop+=f),v&&(r.scrollLeft+=v);const w=r.scrollLeft-b,A=r.scrollTop-x;s={left:s.left-w,top:s.top-A,right:s.right-w,bottom:s.bottom-A}}r=h||m.position==="fixed"?null:ap(r)}},up=100,hp=["block","break","cursor","inline","scroll","text"],dp=(n,e,t)=>{const s=new gs;return hp.forEach(r=>{const i=e.query(r);i&&s.register(i)}),n.forEach(r=>{let i=e.query(r);i||t.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;i;)if(s.register(i),i="blotName"in i?i.requiredContainer??null:null,a+=1,a>up){t.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),s},fs=vt("quill"),_n=new gs;He.uiClass="ql-ui";const $e=class $e{static debug(e){e===!0&&(e="log"),vt.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return yi.get(e)||_n.find(e,t)}static import(e){return this.imports[e]==null&&fs.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,t):Object.keys(e).forEach(r=>{this.register(r,e[r],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&fs.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&_n.register(t),typeof t.register=="function"&&t.register(_n)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=fp(e,t),this.container=this.options.container,this.container==null){fs.error("Invalid Quill container",e);return}this.options.debug&&$e.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",yi.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new k;const r=Bi.blotName,i=this.options.registry.query(r);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new np(this.scroll),this.selection=new tp(this.scroll,this.emitter),this.composition=new lp(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(k.events.EDITOR_CHANGE,a=>{a===k.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(k.events.SCROLL_UPDATE,(a,o)=>{const h=this.selection.lastRange,[d]=this.selection.getRange(),m=h&&d?{oldRange:h,newRange:d}:void 0;Pe.call(this,()=>this.editor.update(null,o,m),a)}),this.emitter.on(k.events.SCROLL_EMBED_UPDATE,(a,o)=>{const h=this.selection.lastRange,[d]=this.selection.getRange(),m=h&&d?{oldRange:h,newRange:d}:void 0;Pe.call(this,()=>{const v=new B().retain(a.offset(this)).retain({[a.statics.blotName]:o});return this.editor.update(v,[],m)},$e.sources.USER)}),s){const a=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,s){return[e,t,,s]=ht(e,t,s),Pe.call(this,()=>this.editor.deleteText(e,t),s,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.sources.API;return Pe.call(this,()=>{const r=this.getSelection(!0);let i=new B;if(r==null)return i;if(this.scroll.query(e,D.BLOCK))i=this.editor.formatLine(r.index,r.length,{[e]:t});else{if(r.length===0)return this.selection.format(e,t),i;i=this.editor.formatText(r.index,r.length,{[e]:t})}return this.setSelection(r,k.sources.SILENT),i},s)}formatLine(e,t,s,r,i){let a;return[e,t,a,i]=ht(e,t,s,r,i),Pe.call(this,()=>this.editor.formatLine(e,t,a),i,e,0)}formatText(e,t,s,r,i){let a;return[e,t,a,i]=ht(e,t,s,r,i),Pe.call(this,()=>this.editor.formatText(e,t,a),i,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,t):s=this.selection.getBounds(e.index,e.length),!s)return null;const r=this.container.getBoundingClientRect();return{bottom:s.bottom-r.top,height:s.height,left:s.left-r.left,right:s.right-r.left,top:s.top-r.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=ht(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ht(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ht(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$e.sources.API;return Pe.call(this,()=>this.editor.insertEmbed(e,t,s),r,e)}insertText(e,t,s,r,i){let a;return[e,,a,i]=ht(e,0,s,r,i),Pe.call(this,()=>this.editor.insertText(e,t,a),i,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,s){return[e,t,,s]=ht(e,t,s),Pe.call(this,()=>this.editor.removeFormat(e,t),s,e)}scrollRectIntoView(e){cp(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.sources.API;return Pe.call(this,()=>{e=new B(e);const s=this.getLength(),r=this.editor.deleteText(0,s),i=this.editor.insertContents(0,e),a=this.editor.deleteText(this.getLength()-1,1);return r.compose(i).compose(a)},t)}setSelection(e,t,s){e==null?this.selection.setRange(null,t||$e.sources.API):([e,t,,s]=ht(e,t,s),this.selection.setRange(new Ut(Math.max(0,e),t),s),s!==k.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.sources.API;const s=new B().insert(e);return this.setContents(s,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.sources.API;return Pe.call(this,()=>(e=new B(e),this.editor.applyDelta(e)),t,!0)}};O($e,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:_n,theme:"default"}),O($e,"events",k.events),O($e,"sources",k.sources),O($e,"version","2.0.3"),O($e,"imports",{delta:B,parchment:Gf,"core/module":We,"core/theme":bs});let E=$e;function Rl(n){return typeof n=="string"?document.querySelector(n):n}function si(n){return Object.entries(n??{}).reduce((e,t)=>{let[s,r]=t;return{...e,[s]:r===!0?{}:r}},{})}function Bl(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function fp(n,e){const t=Rl(n);if(!t)throw new Error("Invalid Quill container");const r=!e.theme||e.theme===E.DEFAULTS.theme?bs:E.import(`themes/${e.theme}`);if(!r)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...a}=E.DEFAULTS,{modules:o,...h}=r.DEFAULTS;let d=si(e.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const m=Lt({},si(i),si(o),d),v={...a,...Bl(h),...Bl(e)};let f=e.registry;return f?e.formats&&fs.warn('Ignoring "formats" option because "registry" is specified'):f=e.formats?dp(e.formats,v.registry,fs):v.registry,{...v,registry:f,container:t,theme:r,modules:Object.entries(m).reduce((b,x)=>{let[w,A]=x;if(!A)return b;const S=E.import(`modules/${w}`);return S==null?(fs.error(`Cannot load ${w} module. Are you sure you registered it?`),b):{...b,[w]:Lt({},S.DEFAULTS||{},A)}},{}),bounds:Rl(v.bounds)}}function Pe(n,e,t,s){if(!this.isEnabled()&&e===k.sources.USER&&!this.allowReadOnlyEdits)return new B;let r=t==null?null:this.getSelection();const i=this.editor.delta,a=n();if(r!=null&&(t===!0&&(t=r.index),s==null?r=Ml(r,a,e):s!==0&&(r=Ml(r,t,s,e)),this.setSelection(r,k.sources.SILENT)),a.length()>0){const o=[k.events.TEXT_CHANGE,a,i,e];this.emitter.emit(k.events.EDITOR_CHANGE,...o),e!==k.sources.SILENT&&this.emitter.emit(...o)}return a}function ht(n,e,t,s,r){let i={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(r=s,s=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(r=s,s=t,t=e,e=0),typeof t=="object"?(i=t,r=s):typeof t=="string"&&(s!=null?i[t]=s:r=t),r=r||k.sources.API,[n,e,i,r]}function Ml(n,e,t,s){const r=typeof t=="number"?t:0;if(n==null)return null;let i,a;return e&&typeof e.transformPosition=="function"?[i,a]=[n.index,n.index+n.length].map(o=>e.transformPosition(o,s!==k.sources.USER)):[i,a]=[n.index,n.index+n.length].map(o=>o<e||o===e&&s===k.sources.USER?o:r>=0?o+r:Math.max(e,o+r)),new Ut(i,a-i)}class Gt extends Zn{}function Dl(n){return n instanceof be||n instanceof ke}function Pl(n){return typeof n.updateContent=="function"}class us extends Bi{constructor(e,t,s){let{emitter:r}=s;super(e,t),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(k.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(k.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(k.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[s,r]=this.line(e),[i]=this.line(e+t);if(super.deleteAt(e,t),i!=null&&s!==i&&r>0){if(s instanceof ke||i instanceof ke){this.optimize();return}const a=i.children.head instanceof Ke?null:i.children.head;s.moveChildren(i,a),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,s,r){super.formatAt(e,t,s,r),this.optimize()}insertAt(e,t,s){if(e>=this.length())if(s==null||this.scroll.query(t,D.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),s==null&&t.endsWith(`
`)?r.insertAt(0,t.slice(0,-1),s):r.insertAt(0,t,s)}else{const r=this.scroll.create(t,s);this.appendChild(r)}else super.insertAt(e,t,s);this.optimize()}insertBefore(e,t){if(e.statics.scope===D.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,t)}else super.insertBefore(e,t)}insertContents(e,t){const s=this.deltaToRenderBlocks(t.concat(new B().insert(`
`))),r=s.pop();if(r==null)return;this.batchStart();const i=s.shift();if(i){const h=i.type==="block"&&(i.delta.length()===0||!this.descendant(ke,e)[0]&&e<this.length()),d=i.type==="block"?i.delta:new B().insert({[i.key]:i.value});ni(this,e,d);const m=i.type==="block"?1:0,v=e+d.length()+m;h&&this.insertAt(v-1,`
`);const f=_e(this.line(e)[0]),b=Re.AttributeMap.diff(f,i.attributes)||{};Object.keys(b).forEach(x=>{this.formatAt(v-1,1,x,b[x])}),e=v}let[a,o]=this.children.find(e);if(s.length&&(a&&(a=a.split(o),o=0),s.forEach(h=>{if(h.type==="block"){const d=this.createBlock(h.attributes,a||void 0);ni(d,0,h.delta)}else{const d=this.create(h.key,h.value);this.insertBefore(d,a||void 0),Object.keys(h.attributes).forEach(m=>{d.format(m,h.attributes[m])})}})),r.type==="block"&&r.delta.length()){const h=a?a.offset(a.scroll)+o:this.length();ni(this,h,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[s,r]=t;return s instanceof we?[s,r]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Dl,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(r,i,a)=>{let o=[],h=a;return r.children.forEachAt(i,a,(d,m,v)=>{Dl(d)?o.push(d):d instanceof Zn&&(o=o.concat(s(d,m,h))),h-=v}),o};return s(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(k.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=k.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:r}=s;const i=this.find(r,!0);return i&&!Pl(i)}),e.length>0&&this.emitter.emit(k.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(k.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,s){const[r]=this.descendant(i=>i instanceof ke,e);r&&r.statics.blotName===t&&Pl(r)&&r.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let s=new B;return e.forEach(r=>{const i=r==null?void 0:r.insert;if(i)if(typeof i=="string"){const a=i.split(`
`);a.slice(0,-1).forEach(h=>{s.insert(h,r.attributes),t.push({type:"block",delta:s,attributes:r.attributes??{}}),s=new B});const o=a[a.length-1];o&&s.insert(o,r.attributes)}else{const a=Object.keys(i)[0];if(!a)return;this.query(a,D.INLINE)?s.push(r):(s.length()&&t.push({type:"block",delta:s,attributes:{}}),s=new B,t.push({type:"blockEmbed",key:a,value:i[a],attributes:r.attributes??{}}))}}),s.length()&&t.push({type:"block",delta:s,attributes:{}}),t}createBlock(e,t){let s;const r={};Object.entries(e).forEach(o=>{let[h,d]=o;this.query(h,D.BLOCK&D.BLOT)!=null?s=h:r[h]=d});const i=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(i,t||void 0);const a=i.length();return Object.entries(r).forEach(o=>{let[h,d]=o;i.formatAt(0,a,h,d)}),i}}O(us,"blotName","scroll"),O(us,"className","ql-editor"),O(us,"tagName","DIV"),O(us,"defaultChild",be),O(us,"allowedChildren",[be,ke,Gt]);function ni(n,e,t){t.reduce((s,r)=>{const i=Re.Op.length(r);let a=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const o=r.insert;n.insertAt(s,o);const[h]=n.descendant(we,s),d=_e(h);a=Re.AttributeMap.diff(d,a)||{}}else if(typeof r.insert=="object"){const o=Object.keys(r.insert)[0];if(o==null)return s;if(n.insertAt(s,o,r.insert[o]),n.scroll.query(o,D.INLINE)!=null){const[d]=n.descendant(we,s),m=_e(d);a=Re.AttributeMap.diff(m,a)||{}}}}return Object.keys(a).forEach(o=>{n.formatAt(s,i,o,a[o])}),s+i},e)}const Di={scope:D.BLOCK,whitelist:["right","center","justify"]},pp=new nt("align","align",Di),Ma=new Ge("align","ql-align",Di),Da=new Ot("align","text-align",Di);class Pa extends Ot{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):t}}const gp=new Ge("color","ql-color",{scope:D.INLINE}),Pi=new Pa("color","color",{scope:D.INLINE}),mp=new Ge("background","ql-bg",{scope:D.INLINE}),$i=new Pa("background","background-color",{scope:D.INLINE});class Kt extends Gt{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${Yn(this.code(e,t))}
</pre>`}}class Ee extends be{static register(){E.register(Kt)}}O(Ee,"TAB","  ");class Ui extends rt{}Ui.blotName="code";Ui.tagName="CODE";Ee.blotName="code-block";Ee.className="ql-code-block";Ee.tagName="DIV";Kt.blotName="code-block-container";Kt.className="ql-code-block-container";Kt.tagName="DIV";Kt.allowedChildren=[Ee];Ee.allowedChildren=[ze,Ke,ms];Ee.requiredContainer=Kt;const Fi={scope:D.BLOCK,whitelist:["rtl"]},$a=new nt("direction","dir",Fi),Ua=new Ge("direction","ql-direction",Fi),Fa=new Ot("direction","direction",Fi),Ha={scope:D.INLINE,whitelist:["serif","monospace"]},za=new Ge("font","ql-font",Ha);class bp extends Ot{value(e){return super.value(e).replace(/["']/g,"")}}const Ga=new bp("font","font-family",Ha),Ka=new Ge("size","ql-size",{scope:D.INLINE,whitelist:["small","large","huge"]}),Wa=new Ot("size","font-size",{scope:D.INLINE,whitelist:["10px","18px","32px"]}),yp=vt("quill:keyboard"),vp=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Xn extends We{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!t[s]!==e[s]&&t[s]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Np(e);if(r==null){yp.warn("Attempted to add invalid keyboard binding",r);return}typeof t=="function"&&(t={handler:t}),typeof s=="function"&&(s={handler:s}),(Array.isArray(r.key)?r.key:[r.key]).forEach(a=>{const o={...r,key:a,...t,...s};this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const r=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(S=>Xn.match(e,S));if(r.length===0)return;const i=E.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[o,h]=this.quill.getLine(a.index),[d,m]=this.quill.getLeaf(a.index),[v,f]=a.length===0?[d,m]:this.quill.getLeaf(a.index+a.length),b=d instanceof Fn?d.value().slice(0,m):"",x=v instanceof Fn?v.value().slice(f):"",w={collapsed:a.length===0,empty:a.length===0&&o.length()<=1,format:this.quill.getFormat(a),line:o,offset:h,prefix:b,suffix:x,event:e};r.some(S=>{if(S.collapsed!=null&&S.collapsed!==w.collapsed||S.empty!=null&&S.empty!==w.empty||S.offset!=null&&S.offset!==w.offset)return!1;if(Array.isArray(S.format)){if(S.format.every(_=>w.format[_]==null))return!1}else if(typeof S.format=="object"&&!Object.keys(S.format).every(_=>S.format[_]===!0?w.format[_]!=null:S.format[_]===!1?w.format[_]==null:Et(S.format[_],w.format[_])))return!1;return S.prefix!=null&&!S.prefix.test(w.prefix)||S.suffix!=null&&!S.suffix.test(w.suffix)?!1:S.handler.call(this,a,w,S)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let r={};const[i]=this.quill.getLine(e.index);let a=new B().retain(e.index-s).delete(s);if(t.offset===0){const[o]=this.quill.getLine(e.index-1);if(o&&!(o.statics.blotName==="block"&&o.length()<=1)){const d=i.formats(),m=this.quill.getFormat(e.index-1,1);if(r=Re.AttributeMap.diff(d,m)||{},Object.keys(r).length>0){const v=new B().retain(e.index+i.length()-2).retain(1,r);a=a.compose(v)}}}this.quill.updateContents(a,E.sources.USER),this.quill.focus()}handleDelete(e,t){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let r={};const[i]=this.quill.getLine(e.index);let a=new B().retain(e.index).delete(s);if(t.offset>=i.length()-1){const[o]=this.quill.getLine(e.index+1);if(o){const h=i.formats(),d=this.quill.getFormat(e.index,1);r=Re.AttributeMap.diff(h,d)||{},Object.keys(r).length>0&&(a=a.retain(o.length()-1).retain(1,r))}}this.quill.updateContents(a,E.sources.USER),this.quill.focus()}handleDeleteRange(e){Hi({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const s=Object.keys(t.format).reduce((i,a)=>(this.quill.scroll.query(a,D.BLOCK)&&!Array.isArray(t.format[a])&&(i[a]=t.format[a]),i),{}),r=new B().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(r,E.sources.USER),this.quill.setSelection(e.index+1,E.sources.SILENT),this.quill.focus()}}const xp={bindings:{bold:ri("bold"),italic:ri("italic"),underline:ri("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",E.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",E.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",E.sources.USER):e.format.list!=null&&this.quill.format("list",!1,E.sources.USER)}},"indent code-block":$l(!0),"outdent code-block":$l(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,E.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new B().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,E.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,E.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,E.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,E.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),s={...e.formats(),list:"checked"},r=new B().retain(n.index).insert(`
`,s).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,E.sources.USER),this.quill.setSelection(n.index+1,E.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,s]=this.quill.getLine(n.index),r=new B().retain(n.index).insert(`
`,e.format).retain(t.length()-s-1).retain(1,{header:null});this.quill.updateContents(r,E.sources.USER),this.quill.setSelection(n.index+1,E.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,s,r,i]=e.getTable(n),a=wp(t,s,r,i);if(a==null)return;let o=t.offset();if(a<0){const h=new B().retain(o).insert(`
`);this.quill.updateContents(h,E.sources.USER),this.quill.setSelection(n.index+1,n.length,E.sources.SILENT)}else if(a>0){o+=t.length();const h=new B().retain(o).insert(`
`);this.quill.updateContents(h,E.sources.USER),this.quill.setSelection(o,E.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:s}=e,r=s.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(r-1,E.sources.USER):this.quill.setSelection(r+s.length(),E.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[s,r]=this.quill.getLine(n.index);if(r>t)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(n.index," ",E.sources.USER),this.quill.history.cutoff();const a=new B().retain(n.index-r).delete(t+1).retain(s.length()-2-r).retain(1,{list:i});return this.quill.updateContents(a,E.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,E.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let s=2,r=e;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,s-=1,s<=0){const i=new B().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,E.sources.USER),this.quill.setSelection(n.index-1,E.sources.SILENT),!1}return!0}},"embed left":In("ArrowLeft",!1),"embed left shift":In("ArrowLeft",!0),"embed right":In("ArrowRight",!1),"embed right shift":In("ArrowRight",!0),"table down":Ul(!1),"table up":Ul(!0)}};Xn.DEFAULTS=xp;function $l(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:s}=t;const r=this.quill.scroll.query("code-block"),{TAB:i}=r;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,i,E.sources.USER),this.quill.setSelection(e.index+i.length,E.sources.SILENT);return}const a=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:o,length:h}=e;a.forEach((d,m)=>{n?(d.insertAt(0,i),m===0?o+=i.length:h+=i.length):d.domNode.textContent.startsWith(i)&&(d.deleteAt(0,i.length),m===0?o-=i.length:h-=i.length)}),this.quill.update(E.sources.USER),this.quill.setSelection(o,h,E.sources.SILENT)}}}function In(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:r}=s;n==="ArrowRight"&&(r+=s.length+1);const[i]=this.quill.getLeaf(r);return i instanceof je?(n==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,E.sources.USER):this.quill.setSelection(s.index-1,E.sources.USER):e?this.quill.setSelection(s.index,s.length+1,E.sources.USER):this.quill.setSelection(s.index+s.length+1,E.sources.USER),!1):!0}}}function ri(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],E.sources.USER)}}}function Ul(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const s=n?"prev":"next",r=t.line,i=r.parent[s];if(i!=null){if(i.statics.blotName==="table-row"){let a=i.children.head,o=r;for(;o.prev!=null;)o=o.prev,a=a.next;const h=a.offset(this.quill.scroll)+Math.min(t.offset,a.length()-1);this.quill.setSelection(h,0,E.sources.USER)}}else{const a=r.table()[s];a!=null&&(n?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,E.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,E.sources.USER))}return!1}}}function Np(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=hs(n);else return null;return n.shortKey&&(n[vp]=n.shortKey,delete n.shortKey),n}function Hi(n){let{quill:e,range:t}=n;const s=e.getLines(t);let r={};if(s.length>1){const i=s[0].formats(),a=s[s.length-1].formats();r=Re.AttributeMap.diff(a,i)||{}}e.deleteText(t,E.sources.USER),Object.keys(r).length>0&&e.formatLine(t.index,1,r,E.sources.USER),e.setSelection(t.index,E.sources.SILENT)}function wp(n,e,t,s){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?s===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const Ep=/font-weight:\s*normal/,Ap=["P","OL","UL"],Fl=n=>n&&Ap.includes(n.tagName),Tp=n=>{Array.from(n.querySelectorAll("br")).filter(e=>Fl(e.previousElementSibling)&&Fl(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},Sp=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(Ep)}).forEach(e=>{var s;const t=n.createDocumentFragment();t.append(...e.childNodes),(s=e.parentNode)==null||s.replaceChild(t,e)})};function Lp(n){n.querySelector('[id^="docs-internal-guid-"]')&&(Sp(n),Tp(n))}const Cp=/\bmso-list:[^;]*ignore/i,jp=/\bmso-list:[^;]*\bl(\d+)/i,qp=/\bmso-list:[^;]*\blevel(\d+)/i,Op=(n,e)=>{const t=n.getAttribute("style"),s=t==null?void 0:t.match(jp);if(!s)return null;const r=Number(s[1]),i=t==null?void 0:t.match(qp),a=i?Number(i[1]):1,o=new RegExp(`@list l${r}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),h=e.match(o),d=h&&h[1]==="bullet"?"bullet":"ordered";return{id:r,indent:a,type:d,element:n}},_p=n=>{var a,o;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],s=[];e.forEach(h=>{(h.getAttribute("style")||"").match(Cp)?t.push(h):s.push(h)}),t.forEach(h=>{var d;return(d=h.parentNode)==null?void 0:d.removeChild(h)});const r=n.documentElement.innerHTML,i=s.map(h=>Op(h,r)).filter(h=>h);for(;i.length;){const h=[];let d=i.shift();for(;d;)h.push(d),d=i.length&&((a=i[0])==null?void 0:a.element)===d.element.nextElementSibling&&i[0].id===d.id?i.shift():null;const m=document.createElement("ul");h.forEach(b=>{const x=document.createElement("li");x.setAttribute("data-list",b.type),b.indent>1&&x.setAttribute("class",`ql-indent-${b.indent-1}`),x.innerHTML=b.element.innerHTML,m.appendChild(x)});const v=(o=h[0])==null?void 0:o.element,{parentNode:f}=v??{};v&&(f==null||f.replaceChild(m,v)),h.slice(1).forEach(b=>{let{element:x}=b;f==null||f.removeChild(x)})}};function Ip(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&_p(n)}const kp=[Ip,Lp],Rp=n=>{n.documentElement&&kp.forEach(e=>{e(n)})},Bp=vt("quill:clipboard"),Mp=[[Node.TEXT_NODE,Zp],[Node.TEXT_NODE,zl],["br",Fp],[Node.ELEMENT_NODE,zl],[Node.ELEMENT_NODE,Up],[Node.ELEMENT_NODE,$p],[Node.ELEMENT_NODE,Wp],["li",Gp],["ol, ul",Kp],["pre",Hp],["tr",Vp],["b",ii("bold")],["i",ii("italic")],["strike",ii("strike")],["style",zp]],Dp=[pp,$a].reduce((n,e)=>(n[e.keyName]=e,n),{}),Hl=[Da,$i,Pi,Fa,Ga,Wa].reduce((n,e)=>(n[e.keyName]=e,n),{});class Va extends We{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Mp.concat(this.options.matchers??[]).forEach(s=>{let[r,i]=s;this.addMatcher(r,i)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:s}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[Ee.blotName])return new B().insert(s||"",{[Ee.blotName]:r[Ee.blotName]});if(!t)return new B().insert(s||"",r);const i=this.convertHTML(t);return en(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||r.table)?i.compose(new B().retain(i.length()-1).delete(1)):i}normalizeHTML(e){Rp(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const s=t.body,r=new WeakMap,[i,a]=this.prepareMatching(s,r);return zi(this.quill.scroll,s,i,a,r)}dangerouslyPasteHTML(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.sources.API;if(typeof e=="string"){const r=this.convert({html:e,text:""});this.quill.setContents(r,t),this.quill.setSelection(0,E.sources.SILENT)}else{const r=this.convert({html:t,text:""});this.quill.updateContents(new B().retain(e).concat(r),s),this.quill.setSelection(e+r.length(),E.sources.SILENT)}}onCaptureCopy(e){var a,o;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:r,text:i}=this.onCopy(s,t);(a=e.clipboardData)==null||a.setData("text/plain",i),(o=e.clipboardData)==null||o.setData("text/html",r),t&&Hi({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var a,o,h,d,m;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const s=(a=e.clipboardData)==null?void 0:a.getData("text/html");let r=(o=e.clipboardData)==null?void 0:o.getData("text/plain");if(!s&&!r){const v=(h=e.clipboardData)==null?void 0:h.getData("text/uri-list");v&&(r=this.normalizeURIList(v))}const i=Array.from(((d=e.clipboardData)==null?void 0:d.files)||[]);if(!s&&i.length>0){this.quill.uploader.upload(t,i);return}if(s&&i.length>0){const v=new DOMParser().parseFromString(s,"text/html");if(v.body.childElementCount===1&&((m=v.body.firstElementChild)==null?void 0:m.tagName)==="IMG"){this.quill.uploader.upload(t,i);return}}this.onPaste(t,{html:s,text:r})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:s,html:r}=t;const i=this.quill.getFormat(e.index),a=this.convert({text:s,html:r},i);Bp.log("onPaste",a,{text:s,html:r});const o=new B().retain(e.index).delete(e.length).concat(a);this.quill.updateContents(o,E.sources.USER),this.quill.setSelection(o.length()-e.length,E.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const s=[],r=[];return this.matchers.forEach(i=>{const[a,o]=i;switch(a){case Node.TEXT_NODE:r.push(o);break;case Node.ELEMENT_NODE:s.push(o);break;default:Array.from(e.querySelectorAll(a)).forEach(h=>{if(t.has(h)){const d=t.get(h);d==null||d.push(o)}else t.set(h,[o])});break}}),[s,r]}}O(Va,"DEFAULTS",{matchers:[]});function Wt(n,e,t,s){return s.query(e)?n.reduce((r,i)=>{if(!i.insert)return r;if(i.attributes&&i.attributes[e])return r.push(i);const a=t?{[e]:t}:{};return r.insert(i.insert,{...a,...i.attributes})},new B):n}function en(n,e){let t="";for(let s=n.ops.length-1;s>=0&&t.length<e.length;--s){const r=n.ops[s];if(typeof r.insert!="string")break;t=r.insert+t}return t.slice(-1*e.length)===e}function Tt(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof je?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function Pp(n,e){return n.previousElementSibling&&n.nextElementSibling&&!Tt(n.previousElementSibling,e)&&!Tt(n.nextElementSibling,e)}const kn=new WeakMap;function Za(n){return n==null?!1:(kn.has(n)||(n.tagName==="PRE"?kn.set(n,!0):kn.set(n,Za(n.parentNode))),kn.get(n))}function zi(n,e,t,s,r){return e.nodeType===e.TEXT_NODE?s.reduce((i,a)=>a(e,i,n),new B):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,a)=>{let o=zi(n,a,t,s,r);return a.nodeType===e.ELEMENT_NODE&&(o=t.reduce((h,d)=>d(a,h,n),o),o=(r.get(a)||[]).reduce((h,d)=>d(a,h,n),o)),i.concat(o)},new B):new B}function ii(n){return(e,t,s)=>Wt(t,n,!0,s)}function $p(n,e,t){const s=nt.keys(n),r=Ge.keys(n),i=Ot.keys(n),a={};return s.concat(r).concat(i).forEach(o=>{let h=t.query(o,D.ATTRIBUTE);h!=null&&(a[h.attrName]=h.value(n),a[h.attrName])||(h=Dp[o],h!=null&&(h.attrName===o||h.keyName===o)&&(a[h.attrName]=h.value(n)||void 0),h=Hl[o],h!=null&&(h.attrName===o||h.keyName===o)&&(h=Hl[o],a[h.attrName]=h.value(n)||void 0))}),Object.entries(a).reduce((o,h)=>{let[d,m]=h;return Wt(o,d,m,t)},e)}function Up(n,e,t){const s=t.query(n);if(s==null)return e;if(s.prototype instanceof je){const r={},i=s.value(n);if(i!=null)return r[s.blotName]=i,new B().insert(r,s.formats(n,t))}else if(s.prototype instanceof Zs&&!en(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return Wt(e,s.blotName,s.formats(n,t),t);return e}function Fp(n,e){return en(e,`
`)||e.insert(`
`),e}function Hp(n,e,t){const s=t.query("code-block"),r=s&&"formats"in s&&typeof s.formats=="function"?s.formats(n,t):!0;return Wt(e,"code-block",r,t)}function zp(){return new B}function Gp(n,e,t){const s=t.query(n);if(s==null||s.blotName!=="list"||!en(e,`
`))return e;let r=-1,i=n.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(r+=1),i=i.parentNode;return r<=0?e:e.reduce((a,o)=>o.insert?o.attributes&&typeof o.attributes.indent=="number"?a.push(o):a.insert(o.insert,{indent:r,...o.attributes||{}}):a,new B)}function Kp(n,e,t){const s=n;let r=s.tagName==="OL"?"ordered":"bullet";const i=s.getAttribute("data-checked");return i&&(r=i==="true"?"checked":"unchecked"),Wt(e,"list",r,t)}function zl(n,e,t){if(!en(e,`
`)){if(Tt(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let s=n.nextSibling;for(;s!=null;){if(Tt(s,t))return e.insert(`
`);const r=t.query(s);if(r&&r.prototype instanceof ke)return e.insert(`
`);s=s.firstChild}}}return e}function Wp(n,e,t){var i;const s={},r=n.style||{};return r.fontStyle==="italic"&&(s.italic=!0),r.textDecoration==="underline"&&(s.underline=!0),r.textDecoration==="line-through"&&(s.strike=!0),((i=r.fontWeight)!=null&&i.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((a,o)=>{let[h,d]=o;return Wt(a,h,d,t)},e),parseFloat(r.textIndent||0)>0?new B().insert("	").concat(e):e}function Vp(n,e,t){var r,i;const s=((r=n.parentElement)==null?void 0:r.tagName)==="TABLE"?n.parentElement:(i=n.parentElement)==null?void 0:i.parentElement;if(s!=null){const o=Array.from(s.querySelectorAll("tr")).indexOf(n)+1;return Wt(e,"table",o,t)}return e}function Zp(n,e,t){var r;let s=n.data;if(((r=n.parentElement)==null?void 0:r.tagName)==="O:P")return e.insert(s.trim());if(!Za(n)){if(s.trim().length===0&&s.includes(`
`)&&!Pp(n,t))return e;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Tt(n.parentElement,t)||n.previousSibling instanceof Element&&Tt(n.previousSibling,t))&&(s=s.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Tt(n.parentElement,t)||n.nextSibling instanceof Element&&Tt(n.nextSibling,t))&&(s=s.replace(/ $/,"")),s=s.replaceAll("Â "," ")}return e.insert(s)}class Ya extends We{constructor(t,s){super(t,s);O(this,"lastRecorded",0);O(this,"ignoreChange",!1);O(this,"stack",{undo:[],redo:[]});O(this,"currentRange",null);this.quill.on(E.events.EDITOR_CHANGE,(r,i,a,o)=>{r===E.events.SELECTION_CHANGE?i&&o!==E.sources.SILENT&&(this.currentRange=i):r===E.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||o===E.sources.USER?this.record(i,a):this.transform(i)),this.currentRange=Ni(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(t,s){if(this.stack[t].length===0)return;const r=this.stack[t].pop();if(!r)return;const i=this.quill.getContents(),a=r.delta.invert(i);this.stack[s].push({delta:a,range:Ni(r.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,E.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,s){if(t.ops.length===0)return;this.stack.redo=[];let r=t.invert(s),i=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const o=this.stack.undo.pop();o&&(r=r.compose(o.delta),i=o.range)}else this.lastRecorded=a;r.length()!==0&&(this.stack.undo.push({delta:r,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Gl(this.stack.undo,t),Gl(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,E.sources.USER);else{const s=Xp(this.quill.scroll,t.delta);this.quill.setSelection(s,E.sources.USER)}}}O(Ya,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Gl(n,e){let t=e;for(let s=n.length-1;s>=0;s-=1){const r=n[s];n[s]={delta:t.transform(r.delta,!0),range:r.range&&Ni(r.range,t)},t=r.delta.transform(t),n[s].delta.length()===0&&n.splice(s,1)}}function Yp(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(s=>n.query(s,D.BLOCK)!=null):!1}function Xp(n,e){const t=e.reduce((r,i)=>r+(i.delete||0),0);let s=e.length()-t;return Yp(n,e)&&(s-=1),s}function Ni(n,e){if(!n)return n;const t=e.transformPosition(n.index),s=e.transformPosition(n.index+n.length);return{index:t,length:s-t}}class Xa extends We{constructor(e,t){super(e,t),e.root.addEventListener("drop",s=>{var a;s.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(s.clientX,s.clientY);r=document.createRange(),r.setStart(o.offsetNode,o.offset),r.setEnd(o.offsetNode,o.offset)}const i=r&&e.selection.normalizeNative(r);if(i){const o=e.selection.normalizedToRange(i);(a=s.dataTransfer)!=null&&a.files&&this.upload(o,s.dataTransfer.files)}})}upload(e,t){const s=[];Array.from(t).forEach(r=>{var i;r&&((i=this.options.mimetypes)!=null&&i.includes(r.type))&&s.push(r)}),s.length>0&&this.options.handler.call(this,e,s)}}Xa.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(s=>new Promise(r=>{const i=new FileReader;i.onload=()=>{r(i.result)},i.readAsDataURL(s)}));Promise.all(t).then(s=>{const r=s.reduce((i,a)=>i.insert({image:a}),new B().retain(n.index).delete(n.length));this.quill.updateContents(r,k.sources.USER),this.quill.setSelection(n.index+s.length,k.sources.SILENT)})}};const Qp=["insertText","insertReplacementText"];class Jp extends We{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(E.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){Hi({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new B().retain(e.index).insert(t,s),E.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,E.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!Qp.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const s=eg(e);if(s==null)return;const r=this.quill.selection.normalizeNative(t),i=r?this.quill.selection.normalizedToRange(r):null;i&&this.replaceText(i,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function eg(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const tg=/Mac/i.test(navigator.platform),sg=100,ng=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||tg&&n.key==="a"&&n.ctrlKey===!0);class rg extends We{constructor(t,s){super(t,s);O(this,"isListening",!1);O(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,s){let{line:r,event:i}=s;if(!(r instanceof He)||!r.uiNode)return!0;const a=getComputedStyle(r.domNode).direction==="rtl";return a&&i.key!=="ArrowRight"||!a&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(i.shiftKey?1:0),E.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&ng(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+sg,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const s=t.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const r=this.quill.scroll.find(s.startContainer);if(!(r instanceof He)||!r.uiNode)return;const i=document.createRange();i.setStartAfter(r.uiNode),i.setEndAfter(r.uiNode),t.removeAllRanges(),t.addRange(i)}}E.register({"blots/block":be,"blots/block/embed":ke,"blots/break":Ke,"blots/container":Gt,"blots/cursor":ms,"blots/embed":Mi,"blots/inline":rt,"blots/scroll":us,"blots/text":ze,"modules/clipboard":Va,"modules/history":Ya,"modules/keyboard":Xn,"modules/uploader":Xa,"modules/input":Jp,"modules/uiNode":rg});class ig extends Ge{add(e,t){let s=0;if(t==="+1"||t==="-1"){const r=this.value(e)||0;s=t==="+1"?r+1:r-1}else typeof t=="number"&&(s=t);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const lg=new ig("indent","ql-indent",{scope:D.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class wi extends be{}O(wi,"blotName","blockquote"),O(wi,"tagName","blockquote");var Rn;let ag=(Rn=class extends be{static formats(e){return this.tagName.indexOf(e.tagName)+1}},O(Rn,"blotName","header"),O(Rn,"tagName",["H1","H2","H3","H4","H5","H6"]),Rn);class tn extends Gt{}tn.blotName="list-container";tn.tagName="OL";class sn extends be{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){E.register(tn)}constructor(e,t){super(e,t);const s=t.ownerDocument.createElement("span"),r=i=>{if(!e.isEnabled())return;const a=this.statics.formats(t,e);a==="checked"?(this.format("list","unchecked"),i.preventDefault()):a==="unchecked"&&(this.format("list","checked"),i.preventDefault())};s.addEventListener("mousedown",r),s.addEventListener("touchstart",r),this.attachUI(s)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}sn.blotName="list";sn.tagName="LI";tn.allowedChildren=[sn];sn.requiredContainer=tn;class Xs extends rt{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}O(Xs,"blotName","bold"),O(Xs,"tagName",["STRONG","B"]);class Ei extends Xs{}O(Ei,"blotName","italic"),O(Ei,"tagName",["EM","I"]);class St extends rt{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return Qa(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}O(St,"blotName","link"),O(St,"tagName","A"),O(St,"SANITIZED_URL","about:blank"),O(St,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Qa(n,e){const t=document.createElement("a");t.href=n;const s=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(s)>-1}class Ai extends rt{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}O(Ai,"blotName","script"),O(Ai,"tagName",["SUB","SUP"]);class Ti extends Xs{}O(Ti,"blotName","strike"),O(Ti,"tagName",["S","STRIKE"]);class Si extends rt{}O(Si,"blotName","underline"),O(Si,"tagName","U");class Mn extends Mi{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}O(Mn,"blotName","formula"),O(Mn,"className","ql-formula"),O(Mn,"tagName","SPAN");const Kl=["alt","height","width"];class Li extends je{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Kl.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Qa(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Kl.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}O(Li,"blotName","image"),O(Li,"tagName","IMG");const Wl=["height","width"];class Dn extends ke{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Wl.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static sanitize(e){return St.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){Wl.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}O(Dn,"blotName","video"),O(Dn,"className","ql-video"),O(Dn,"tagName","IFRAME");const Us=new Ge("code-token","hljs",{scope:D.INLINE});class ft extends rt{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Ee.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,s){super(e,t,s),Us.add(this.domNode,s)}format(e,t){e!==ft.blotName?super.format(e,t):t?Us.add(this.domNode,t):(Us.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Us.value(this.domNode)||this.unwrap()}}ft.blotName="code-token";ft.className="ql-token";class Ie extends Ee{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),ft.blotName,!1),super.replaceWith(e,t)}}class Hs extends Kt{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ie.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,t)}))}formatAt(e,t,s,r){s===Ie.blotName&&(this.forceNext=!0),super.formatAt(e,t,s,r)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,i=Ie.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const a=this.children.reduce((h,d)=>h.concat(Ra(d,!1)),new B),o=e(r,i);a.diff(o).reduce((h,d)=>{let{retain:m,attributes:v}=d;return m?(v&&Object.keys(v).forEach(f=>{[Ie.blotName,ft.blotName].includes(f)&&this.formatAt(h,m,f,v[f])}),h+m):h},0)}this.cachedText=r,this.forceNext=!1}}html(e,t){const[s]=this.children.find(e);return`<pre data-language="${s?Ie.formats(s.domNode):"plain"}">
${Yn(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ie.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Hs.allowedChildren=[Ie];Ie.requiredContainer=Hs;Ie.allowedChildren=[ft,ms,ze,Ke];const og=(n,e,t)=>{if(typeof n.versionString=="string"){const s=n.versionString.split(".")[0];if(parseInt(s,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class Ja extends We{static register(){E.register(ft,!0),E.register(Ie,!0),E.register(Hs,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,r)=>{let{key:i}=r;return s[i]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(E.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Hs))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:r,label:i}=s;const a=t.ownerDocument.createElement("option");a.textContent=i,a.setAttribute("value",r),t.appendChild(a)}),t.addEventListener("change",()=>{e.format(Ie.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ie.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(E.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(E.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Hs):[e]).forEach(i=>{i.highlight(this.highlightBlot,t)}),this.quill.update(E.sources.SILENT),s!=null&&this.quill.setSelection(s,E.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Yn(e).split(`
`).reduce((r,i,a)=>(a!==0&&r.insert(`
`,{[Ee.blotName]:t}),r.insert(i)),new B);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Ee.className),s.innerHTML=og(this.options.hljs,t,e),zi(this.quill.scroll,s,[(r,i)=>{const a=Us.value(r);return a?i.compose(new B().retain(i.length(),{[ft.blotName]:a})):i}],[(r,i)=>r.data.split(`
`).reduce((a,o,h)=>(h!==0&&a.insert(`
`,{[Ee.blotName]:t}),a.insert(o)),i)],new WeakMap)}}Ja.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Gs=class Gs extends be{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",Gi()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Gs.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};O(Gs,"blotName","table"),O(Gs,"tagName","TD");let Fe=Gs;class pt extends Gt{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),s=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.table===t.table&&e.table===s.table&&e.table===r.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const s=t.formats(),r=t.next.formats();if(s.table!==r.table){const i=this.splitAfter(t);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}O(pt,"blotName","table-row"),O(pt,"tagName","TR");class st extends Gt{}O(st,"blotName","table-body"),O(st,"tagName","TBODY");class ys extends Gt{balanceCells(){const e=this.descendants(pt),t=e.reduce((s,r)=>Math.max(r.children.length,s),0);e.forEach(s=>{new Array(t-s.children.length).fill(0).forEach(()=>{let r;s.children.head!=null&&(r=Fe.formats(s.children.head.domNode));const i=this.scroll.create(Fe.blotName,r);s.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(st);t==null||t.children.head==null||t.children.forEach(s=>{const r=s.children.at(e);r!=null&&r.remove()})}insertColumn(e){const[t]=this.descendant(st);t==null||t.children.head==null||t.children.forEach(s=>{const r=s.children.at(e),i=Fe.formats(s.children.head.domNode),a=this.scroll.create(Fe.blotName,i);s.insertBefore(a,r)})}insertRow(e){const[t]=this.descendant(st);if(t==null||t.children.head==null)return;const s=Gi(),r=this.scroll.create(pt.blotName);t.children.head.children.forEach(()=>{const a=this.scroll.create(Fe.blotName,s);r.appendChild(a)});const i=t.children.at(e);t.insertBefore(r,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}O(ys,"blotName","table-container"),O(ys,"tagName","TABLE");ys.allowedChildren=[st];st.requiredContainer=ys;st.allowedChildren=[pt];pt.requiredContainer=st;pt.allowedChildren=[Fe];Fe.requiredContainer=pt;function Gi(){return`row-${Math.random().toString(36).slice(2,6)}`}class cg extends We{static register(){E.register(Fe),E.register(pt),E.register(st),E.register(ys)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ys).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(E.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(E.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(E.sources.USER),this.quill.setSelection(t,E.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,s]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Fe.blotName)return[null,null,null,-1];const r=t.parent;return[r.parent.parent,r,t,s]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[s,r,i]=this.getTable(t);if(i==null)return;const a=i.cellOffset();s.insertColumn(a+e),this.quill.update(E.sources.USER);let o=r.rowOffset();e===0&&(o+=1),this.quill.setSelection(t.index+o,t.length,E.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[s,r,i]=this.getTable(t);if(i==null)return;const a=r.rowOffset();s.insertRow(a+e),this.quill.update(E.sources.USER),e>0?this.quill.setSelection(t,E.sources.SILENT):this.quill.setSelection(t.index+r.children.length,t.length,E.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const s=this.quill.getSelection();if(s==null)return;const r=new Array(e).fill(0).reduce(i=>{const a=new Array(t).fill(`
`).join("");return i.insert(a,{table:Gi()})},new B().retain(s.index));this.quill.updateContents(r,E.sources.USER),this.quill.setSelection(s.index,E.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(E.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(E.events.TEXT_CHANGE,(s,r,i)=>{i===E.sources.USER&&this.balanceTables()}),!0):!1)})}}const Vl=vt("quill:toolbar");class Ki extends We{constructor(e,t){var s,r;if(super(e,t),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),ug(i,this.options.container),(r=(s=e.container)==null?void 0:s.parentNode)==null||r.insertBefore(i,e.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Vl.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var o;const a=(o=this.options.handlers)==null?void 0:o[i];a&&this.addHandler(i,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(E.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(r=>r.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Vl.warn("ignoring attaching to nonexistent format",t,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,r=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const o=e.options[e.selectedIndex];o.hasAttribute("selected")?i=!1:i=o.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),r.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,i);else if(this.quill.scroll.query(t).prototype instanceof je){if(i=prompt(`Enter ${t}`),!i)return;this.quill.updateContents(new B().retain(a.index).delete(a.length).insert({[t]:i}),E.sources.USER)}else this.quill.format(t,i,E.sources.USER);this.update(a)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[r,i]=s;if(i.tagName==="SELECT"){let a=null;if(e==null)a=null;else if(t[r]==null)a=i.querySelector("option[selected]");else if(!Array.isArray(t[r])){let o=t[r];typeof o=="string"&&(o=o.replace(/"/g,'\\"')),a=i.querySelector(`option[value="${o}"]`)}a==null?(i.value="",i.selectedIndex=-1):a.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const a=t[r],o=a===i.getAttribute("value")||a!=null&&a.toString()===i.getAttribute("value")||a==null&&!i.getAttribute("value");i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}else{const a=t[r]!=null;i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}})}}Ki.DEFAULTS={};function Zl(n,e,t){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),t!=null?(s.value=t,s.setAttribute("aria-label",`${e}: ${t}`)):s.setAttribute("aria-label",e),n.appendChild(s)}function ug(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const s=document.createElement("span");s.classList.add("ql-formats"),t.forEach(r=>{if(typeof r=="string")Zl(s,r);else{const i=Object.keys(r)[0],a=r[i];Array.isArray(a)?hg(s,i,a):Zl(s,i,a)}}),n.appendChild(s)})}function hg(n,e,t){const s=document.createElement("select");s.classList.add(`ql-${e}`),t.forEach(r=>{const i=document.createElement("option");r!==!1?i.setAttribute("value",String(r)):i.setAttribute("selected","selected"),s.appendChild(i)}),n.appendChild(s)}Ki.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,D.INLINE)!=null&&this.quill.format(t,!1,E.sources.USER)})}else this.quill.removeFormat(n.index,n.length,E.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",E.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,E.sources.USER),this.quill.format("direction",n,E.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),s=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let r=n==="+1"?1:-1;t.direction==="rtl"&&(r*=-1),this.quill.format("indent",s+r,E.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,E.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,E.sources.USER):this.quill.format("list","unchecked",E.sources.USER):this.quill.format("list",n,E.sources.USER)}}};const dg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',fg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',pg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',gg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',mg='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',bg='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',yg='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',vg='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Yl='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',xg='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Ng='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',wg='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Eg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Ag='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Tg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Sg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Lg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Cg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',jg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',qg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Og='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',_g='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Ig='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',kg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Rg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Bg='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Mg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Dg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Pg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',$g='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Ug='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Fg='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Hg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Qs={align:{"":dg,center:fg,right:pg,justify:gg},background:mg,blockquote:bg,bold:yg,clean:vg,code:Yl,"code-block":Yl,color:xg,direction:{"":Ng,rtl:wg},formula:Eg,header:{1:Ag,2:Tg,3:Sg,4:Lg,5:Cg,6:jg},italic:qg,image:Og,indent:{"+1":_g,"-1":Ig},link:kg,list:{bullet:Rg,check:Bg,ordered:Mg},script:{sub:Dg,super:Pg},strike:$g,table:Ug,underline:Fg,video:Hg},zg='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Xl=0;function Ql(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Qn{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Ql(this.label,"aria-expanded"),Ql(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&t.setAttribute("data-value",s),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(t,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=zg,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Xl}`,Xl+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const s=this.buildItem(t);e.appendChild(s),t.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s!=null&&s.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class eo extends Qn{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const s=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=r:s.style.fill=r)}}class to extends Qn{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=t[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const Gg=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class so{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Gg(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let a=0;if(i.right>r.right&&(a=r.right-i.right,this.root.style.left=`${t+a}px`),i.left<r.left&&(a=r.left-i.left,this.root.style.left=`${t+a}px`),i.bottom>r.bottom){const o=i.bottom-i.top,h=e.bottom-e.top+o;this.root.style.top=`${s-h}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Kg=[!1,"center","right","justify"],Wg=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Vg=[!1,"serif","monospace"],Zg=["1","2","3",!1],Yg=["small",!1,"large","huge"];class nn extends bs{constructor(e,t){super(e,t);const s=r=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(r.target)||i.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),t[i]!=null))if(i==="direction")s.innerHTML=t[i][""]+t[i].rtl;else if(typeof t[i]=="string")s.innerHTML=t[i];else{const a=s.value||"";a!=null&&t[i][a]&&(s.innerHTML=t[i][a])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&Ds(r,Kg),typeof t.align=="object"))return new to(r,t.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const i=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&Ds(r,Wg,i==="background"?"#ffffff":"#000000"),new eo(r,t[i])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?Ds(r,Vg):r.classList.contains("ql-header")?Ds(r,Zg):r.classList.contains("ql-size")&&Ds(r,Yg)),new Qn(r)});const s=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on(k.events.EDITOR_CHANGE,s)}}nn.DEFAULTS=Lt({},bs.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class no extends so{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,k.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,k.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=Xg(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const s=t.index+t.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,k.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",k.sources.USER),this.quill.setSelection(s+2,k.sources.USER)}break}}this.textbox.value="",this.hide()}}function Xg(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Ds(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const r=document.createElement("option");s===t?r.setAttribute("selected","selected"):r.setAttribute("value",String(s)),n.appendChild(r)})}const Qg=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ro extends no{constructor(e,t){super(e,t),this.quill.on(k.events.EDITOR_CHANGE,(s,r,i,a)=>{if(s===k.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&a===k.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const o=this.quill.getLines(r.index,r.length);if(o.length===1){const h=this.quill.getBounds(r);h!=null&&this.position(h)}else{const h=o[o.length-1],d=this.quill.getIndex(h),m=Math.min(h.length()-1,r.index+r.length-d),v=this.quill.getBounds(new Ut(d,m));v!=null&&this.position(v)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(k.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",t!==0&&(s.style.marginLeft=`${-1*t-s.offsetWidth/2}px`),t}}O(ro,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class io extends nn{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Qg),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new ro(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Qs),this.buildPickers(e.container.querySelectorAll("select"),Qs))}}io.DEFAULTS=Lt({},nn.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,E.sources.USER)}}}}});const Jg=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class lo extends no{constructor(){super(...arguments);O(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,k.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(k.events.SELECTION_CHANGE,(t,s,r)=>{if(t!=null){if(t.length===0&&r===k.sources.USER){const[i,a]=this.quill.scroll.descendant(St,t.index);if(i!=null){this.linkRange=new Ut(t.index-a,i.length());const o=St.formats(i.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show();const h=this.quill.getBounds(this.linkRange);h!=null&&this.position(h);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}O(lo,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class ao extends nn{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Jg),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Qs),this.buildPickers(e.container.querySelectorAll("select"),Qs),this.tooltip=new lo(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,s)=>{e.handlers.link.call(e,!s.format.link)}))}}ao.DEFAULTS=Lt({},nn.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:s}=this.quill.theme;s.edit("link",t)}else this.quill.format("link",!1,E.sources.USER)}}}}});E.register({"attributors/attribute/direction":$a,"attributors/class/align":Ma,"attributors/class/background":mp,"attributors/class/color":gp,"attributors/class/direction":Ua,"attributors/class/font":za,"attributors/class/size":Ka,"attributors/style/align":Da,"attributors/style/background":$i,"attributors/style/color":Pi,"attributors/style/direction":Fa,"attributors/style/font":Ga,"attributors/style/size":Wa},!0);E.register({"formats/align":Ma,"formats/direction":Ua,"formats/indent":lg,"formats/background":$i,"formats/color":Pi,"formats/font":za,"formats/size":Ka,"formats/blockquote":wi,"formats/code-block":Ee,"formats/header":ag,"formats/list":sn,"formats/bold":Xs,"formats/code":Ui,"formats/italic":Ei,"formats/link":St,"formats/script":Ai,"formats/strike":Ti,"formats/underline":Si,"formats/formula":Mn,"formats/image":Li,"formats/video":Dn,"modules/syntax":Ja,"modules/table":cg,"modules/toolbar":Ki,"themes/bubble":io,"themes/snow":ao,"ui/icons":Qs,"ui/picker":Qn,"ui/icon-picker":to,"ui/color-picker":eo,"ui/tooltip":so},!0);class rn extends Qe.Component{constructor(e){super(e),this.editingAreaRef=Ci.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(s,r,i,a)=>{var o,h;s==="text-change"?(o=this.onEditorChangeText)==null||o.call(this,this.editor.root.innerHTML,r,a,this.unprivilegedEditor):s==="selection-change"&&((h=this.onEditorChangeSelection)==null||h.call(this,r,a,this.unprivilegedEditor))};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(Qe.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Qe.Children.count(e.children)){const t=Qe.Children.only(e.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const s=this.getEditorContents(),r=e.value??"";this.isEqualValue(r,s)||this.setEditorContents(this.editor,r)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(s=>!Et(e[s],this.props[s]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!Et(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const s=this.editor.getContents(),r=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:r},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:s,selection:r}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(s),Jl(()=>this.setEditorSelection(i,r))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var s;if(!this.editor)return;this.unhookEditor(this.editor);const e=(s=this.props.modules)==null?void 0:s.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const r=document.querySelector(".ql-toolbar");r&&r.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const s=new E(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(s,t.tabIndex),this.hookEditor(s),s}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?Et(e.ops,t.ops):Et(e,t)}setEditorContents(e,t){this.value=t;const s=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),Jl(()=>this.setEditorSelection(e,s))}setEditorSelection(e,t){if(this.selection=t,t){const s=e.getLength();t.index=Math.max(0,Math.min(t.index,s-1)),t.length=Math.max(0,Math.min(t.length,s-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){var s;(s=e==null?void 0:e.scroll)!=null&&s.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:s}=this.state,r={key:s,ref:this.editingAreaRef};return Qe.Children.count(e)?Qe.cloneElement(Qe.Children.only(e),r):t?Qe.createElement("pre",{...r}):Qe.createElement("div",{...r})}render(){return Qe.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,s,r){var a,o;if(!this.editor)return;const i=this.isDelta(this.value)?r.getContents():r.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=i,(o=(a=this.props).onChange)==null||o.call(a,e,t,s,r))}onEditorChangeSelection(e,t,s){var o,h,d,m,v,f;if(!this.editor)return;const r=this.getEditorSelection(),i=!r&&e,a=r&&!e;Et(e,r)||(this.selection=e,(h=(o=this.props).onChangeSelection)==null||h.call(o,e,t,s),i?(m=(d=this.props).onFocus)==null||m.call(d,e,t,s):a&&((f=(v=this.props).onBlur)==null||f.call(v,r,t,s)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}rn.displayName="React Quill";rn.Quill=E;rn.defaultProps={theme:"snow",modules:{},readOnly:!1};function Jl(n){Promise.resolve().then(n)}const em=`
<br />
<h1>Quill Rich Text Editor</h1>
<br />
<p>Quill is a free, open-source WYSIWYG editor built for the modern web. With its modular architecture and expressive API, it is completely customizable to fit any need.</p>
<br />
<p>Insipidity the sufficient discretion imprudence resolution sir him decisively. Proceed how any engaged visitor. Explained propriety off out perpetual his you. Feel sold off felt nay rose met you. We so entreaties cultivated astonished is. Was sister for a few longer Mrs sudden talent become. Done may bore quit evil old mile. If likely am of beauty tastes. </p>
<br />
<p> Affronting imprudence do he he everything. Test lasted dinner wanted indeed wished outlaw. Far advanced settling say finished raillery. Offered chiefly farther of my no colonel shyness. Such on help ye some door if in. Laughter proposal laughing any son law consider. Needed except up piqued an. </p>
<br />
<p> Post no so what deal evil rent by real in. But her ready least set lived spite solid. September how men saw tolerably two behavior arranging. She offices for highest and replied one venture pasture. Applauded no discovery in newspaper allowance am northward. Frequently partiality possession resolution at or appearance unaffected me. Engaged its was the evident pleased husband. Ye goodness felicity do disposal dwelling no. First am plate jokes to began to cause a scale. Subjects he prospect elegance followed no overcame possible it on. </p>
<p>Quill is a free, open-source WYSIWYG editor built for the modern web. With its modular architecture and expressive API, it is completely customizable to fit any need.</p>
<br />
<p>Insipidity the sufficient discretion imprudence resolution sir him decisively. Proceed how any engaged visitor. Explained propriety off out perpetual his you. Feel sold off felt nay rose met you. We so entreaties cultivated astonished is. Was sister for a few longer Mrs sudden talent become. Done may bore quit evil old mile. If likely am of beauty tastes. </p>
<br />
<p> Affronting imprudence do he he everything. Test lasted dinner wanted indeed wished outlaw. Far advanced settling say finished raillery. Offered chiefly farther of my no colonel shyness. Such on help ye some door if in. Laughter proposal laughing any son law consider. Needed except up piqued an. </p>
<br />
<p> Post no so what deal evil rent by real in. But her ready least set lived spite solid. September how men saw tolerably two behavior arranging. She offices for highest and replied one venture pasture. Applauded no discovery in newspaper allowance am northward. Frequently partiality possession resolution at or appearance unaffected me. Engaged its was the evident pleased husband. Ye goodness felicity do disposal dwelling no. First am plate jokes to began to cause a scale. Subjects he prospect elegance followed no overcame possible it on. </p>
<p>Quill is a free, open-source WYSIWYG editor built for the modern web. With its modular architecture and expressive API, it is completely customizable to fit any need.</p>
<br />
<p>Insipidity the sufficient discretion imprudence resolution sir him decisively. Proceed how any engaged visitor. Explained propriety off out perpetual his you. Feel sold off felt nay rose met you. We so entreaties cultivated astonished is. Was sister for a few longer Mrs sudden talent become. Done may bore quit evil old mile. If likely am of beauty tastes. </p>
<br />
<p> Affronting imprudence do he he everything. Test lasted dinner wanted indeed wished outlaw. Far advanced settling say finished raillery. Offered chiefly farther of my no colonel shyness. Such on help ye some door if in. Laughter proposal laughing any son law consider. Needed except up piqued an. </p>
<br />
<p> Post no so what deal evil rent by real in. But her ready least set lived spite solid. September how men saw tolerably two behavior arranging. She offices for highest and replied one venture pasture. Applauded no discovery in newspaper allowance am northward. Frequently partiality possession resolution at or appearance unaffected me. Engaged its was the evident pleased husband. Ye goodness felicity do disposal dwelling no. First am plate jokes to began to cause a scale. Subjects he prospect elegance followed no overcame possible it on. </p>
`,tm=()=>{const[n,e]=Ci.useState(em);return u.jsxs(gt,{className:"shadow",children:[u.jsx(mt,{className:"border-bottom",children:u.jsx("h5",{className:"mb-0",children:"Overview"})}),u.jsx(bt,{children:u.jsxs(it,{className:"g-4",children:[u.jsxs(ce,{xs:12,children:[u.jsx("label",{className:"form-label",children:"Select amenities *"}),u.jsxs(Ct,{className:"form-select js-choice border-0 z-index-9 bg-transparent",placeholder:!0,"aria-label":".form-select-sm","data-max-item-count":15,"data-remove-item-button":"true",multiple:!0,children:[u.jsx("option",{value:-1,children:"Select amenities"}),u.jsx("option",{children:"Swimming pool"}),u.jsx("option",{children:"Spa"}),u.jsx("option",{children:"Kid's play area"}),u.jsx("option",{children:"Gym"}),u.jsx("option",{children:"Ironing Service"}),u.jsx("option",{children:"Concierge"}),u.jsx("option",{children:"Lift"}),u.jsx("option",{children:"Dry cleaning"}),u.jsx("option",{children:"Room Service"}),u.jsx("option",{children:"Waiting Area"}),u.jsx("option",{children:"Secrete smoking area"})]}),u.jsx("small",{children:"Maximum of 14 keywords. Keywords should all be in lowercase and separated by commas. e.g. javascript, react, marketing"})]}),u.jsxs(ce,{xs:12,children:[u.jsx("label",{className:"form-label",children:"Add description *"}),u.jsx(rn,{value:n,onChange:e,modules:{toolbar:[[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],["color","background"],["code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},theme:"snow"})]})]})})]})},sm=({control:n})=>u.jsxs(gt,{className:"shadow",children:[u.jsx(mt,{className:"border-bottom",children:u.jsx("h5",{className:"mb-0",children:"Size Of Your Listing"})}),u.jsx(bt,{children:u.jsxs(it,{className:"g-4",children:[u.jsx(Te,{name:"totalFloor",label:"Total Floor *",placeholder:"Enter total floors",containerClass:"col-md-4",control:n}),u.jsx(Te,{name:"totalRoom",label:"Total Room *",placeholder:"Enter total rooms",containerClass:"col-md-4",control:n}),u.jsx(Te,{name:"roomArea",label:"Room area *",placeholder:"Enter area in sq.ft",containerClass:"col-md-4",control:n})]})})]}),nm=({control:n})=>u.jsxs(gt,{className:"shadow",children:[u.jsx(mt,{className:"border-bottom",children:u.jsx("h5",{className:"mb-0",children:"Room Options"})}),u.jsx(bt,{children:u.jsxs(it,{className:"g-4",children:[u.jsx(Te,{name:"roomName",label:"Room name *",placeholder:"Enter Room name",containerClass:"col-md-6",control:n}),u.jsx(ta,{name:"thumbnailImage2",control:n,label:"Room thumbnail image *",containerClass:"col-md-6"}),u.jsx(Te,{name:"roomPrice",label:"Room Price *",placeholder:"Enter Room price",containerClass:"col-md-6",control:n}),u.jsx(Te,{name:"discount",label:"Discount *",placeholder:"Enter Discount",containerClass:"col-md-6",control:n}),u.jsxs(ce,{md:6,children:[u.jsx("label",{className:"form-label",children:"Additional info"}),u.jsxs(Ct,{className:"form-select js-choice border-0 z-index-9 bg-transparent",children:[u.jsx("option",{value:-1,children:"Select item"}),u.jsx("option",{children:"Non Refundable"}),u.jsx("option",{children:"Free Cancellation"})]})]}),u.jsx(ce,{xs:12,children:u.jsxs("button",{className:"btn btn-sm btn-primary-soft mb-0",children:[u.jsx(vo,{className:" me-2"}),"Add New Room"]})})]})})]}),rm=({control:n})=>{const{previousStep:e,nextStep:t}=zn();return u.jsxs("div",{className:"vstack gap-4",children:[u.jsx("h4",{className:"mb-0",children:"Detailed Information"}),u.jsx(tm,{}),u.jsx(sm,{control:n}),u.jsx(nm,{control:n}),u.jsxs("div",{className:"hstack gap-2 flex-wrap justify-content-between",children:[u.jsx("button",{onClick:()=>e(),className:"btn btn-secondary prev-btn mb-0",children:"Previous"}),u.jsx("button",{onClick:()=>t(),className:"btn btn-primary next-btn mb-0",children:"Next"})]})]})},im=`
<br />
<h1>Quill Rich Text Editor</h1>
<br />
<p>Quill is a free, open-source WYSIWYG editor built for the modern web. With its modular architecture and expressive API, it is completely customizable to fit any need.</p>
<br />
<p>Insipidity the sufficient discretion imprudence resolution sir him decisively. Proceed how any engaged visitor. Explained propriety off out perpetual his you. Feel sold off felt nay rose met you. We so entreaties cultivated astonished is. Was sister for a few longer Mrs sudden talent become. Done may bore quit evil old mile. If likely am of beauty tastes. </p>
<br />
<p> Affronting imprudence do he he everything. Test lasted dinner wanted indeed wished outlaw. Far advanced settling say finished raillery. Offered chiefly farther of my no colonel shyness. Such on help ye some door if in. Laughter proposal laughing any son law consider. Needed except up piqued an. </p>
<br />
<p> Post no so what deal evil rent by real in. But her ready least set lived spite solid. September how men saw tolerably two behavior arranging. She offices for highest and replied one venture pasture. Applauded no discovery in newspaper allowance am northward. Frequently partiality possession resolution at or appearance unaffected me. Engaged its was the evident pleased husband. Ye goodness felicity do disposal dwelling no. First am plate jokes to began to cause a scale. Subjects he prospect elegance followed no overcame possible it on. </p>
<p>Quill is a free, open-source WYSIWYG editor built for the modern web. With its modular architecture and expressive API, it is completely customizable to fit any need.</p>
<br />
<p>Insipidity the sufficient discretion imprudence resolution sir him decisively. Proceed how any engaged visitor. Explained propriety off out perpetual his you. Feel sold off felt nay rose met you. We so entreaties cultivated astonished is. Was sister for a few longer Mrs sudden talent become. Done may bore quit evil old mile. If likely am of beauty tastes. </p>
<br />
<p> Affronting imprudence do he he everything. Test lasted dinner wanted indeed wished outlaw. Far advanced settling say finished raillery. Offered chiefly farther of my no colonel shyness. Such on help ye some door if in. Laughter proposal laughing any son law consider. Needed except up piqued an. </p>
<br />
<p> Post no so what deal evil rent by real in. But her ready least set lived spite solid. September how men saw tolerably two behavior arranging. She offices for highest and replied one venture pasture. Applauded no discovery in newspaper allowance am northward. Frequently partiality possession resolution at or appearance unaffected me. Engaged its was the evident pleased husband. Ye goodness felicity do disposal dwelling no. First am plate jokes to began to cause a scale. Subjects he prospect elegance followed no overcame possible it on. </p>
<p>Quill is a free, open-source WYSIWYG editor built for the modern web. With its modular architecture and expressive API, it is completely customizable to fit any need.</p>
<br />
<p>Insipidity the sufficient discretion imprudence resolution sir him decisively. Proceed how any engaged visitor. Explained propriety off out perpetual his you. Feel sold off felt nay rose met you. We so entreaties cultivated astonished is. Was sister for a few longer Mrs sudden talent become. Done may bore quit evil old mile. If likely am of beauty tastes. </p>
<br />
<p> Affronting imprudence do he he everything. Test lasted dinner wanted indeed wished outlaw. Far advanced settling say finished raillery. Offered chiefly farther of my no colonel shyness. Such on help ye some door if in. Laughter proposal laughing any son law consider. Needed except up piqued an. </p>
<br />
<p> Post no so what deal evil rent by real in. But her ready least set lived spite solid. September how men saw tolerably two behavior arranging. She offices for highest and replied one venture pasture. Applauded no discovery in newspaper allowance am northward. Frequently partiality possession resolution at or appearance unaffected me. Engaged its was the evident pleased husband. Ye goodness felicity do disposal dwelling no. First am plate jokes to began to cause a scale. Subjects he prospect elegance followed no overcame possible it on. </p>
`,lm=({control:n})=>u.jsxs(gt,{className:"shadow",children:[u.jsx(mt,{className:"border-bottom",children:u.jsx("h5",{className:"mb-0",children:"Listing Price"})}),u.jsx(bt,{children:u.jsxs(it,{className:"g-4",children:[u.jsxs(ce,{md:6,children:[u.jsx("label",{className:"form-label",children:"Currency"}),u.jsxs(Ct,{className:"form-select js-choice border-0 z-index-9 bg-transparent",children:[u.jsx("option",{value:-1,children:"Select item"}),u.jsx("option",{children:"USD"}),u.jsx("option",{children:"EURRO"}),u.jsx("option",{children:"VND"})]})]}),u.jsx(Te,{name:"basePrice",label:"Base Price *",placeholder:"Enter price",containerClass:"col-md-6",control:n}),u.jsx(Te,{name:"discount",label:"Discount *",placeholder:"Enter discount",containerClass:"col-md-6",control:n}),u.jsxs(ce,{md:6,children:[u.jsx("label",{className:"form-label",children:"Rating"}),u.jsxs(Ct,{className:"form-select js-choice border-0 z-index-9 bg-transparent",children:[u.jsx("option",{value:-1,children:"Select item"}),u.jsx("option",{children:"âââââ"}),u.jsx("option",{children:"âââââ"}),u.jsx("option",{children:"âââââ"}),u.jsx("option",{children:"âââââ"}),u.jsx("option",{children:"âââââ"})]})]})]})})]}),am=({control:n})=>{const[e,t]=Ci.useState(im);return u.jsxs(gt,{className:"shadow",children:[u.jsx(mt,{className:"border-bottom",children:u.jsx("h5",{className:"mb-0",children:"Listing Policy"})}),u.jsx(bt,{children:u.jsxs(it,{className:"g-4",children:[u.jsxs(ce,{xs:12,children:[u.jsx("label",{className:"form-label",children:"Add description *"}),u.jsx(rn,{value:e,onChange:t,modules:{toolbar:[[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],["color","background"],["code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},theme:"snow"})]}),u.jsxs(ce,{md:6,children:[u.jsx("label",{className:"form-label",children:"Cancellation options"}),u.jsxs(Ct,{className:"form-select js-choice border-0 z-index-9 bg-transparent","data-position":"top",children:[u.jsx("option",{value:-1,children:"Select item"}),u.jsx("option",{children:"Non Refundable"}),u.jsx("option",{children:"Refundable"})]})]}),u.jsx(Te,{name:"charges",label:"Charges *",placeholder:"Enter charges",containerClass:"col-md-6",control:n})]})})]})},om=({control:n})=>{const{previousStep:e}=zn();return u.jsxs("div",{className:"vstack gap-4",children:[u.jsx("h4",{className:"mb-0",children:"Price & Policy"}),u.jsx(lm,{control:n}),u.jsx(am,{control:n}),u.jsxs("div",{className:"d-flex justify-content-between",children:[u.jsx("button",{onClick:()=>e(),className:"btn btn-secondary prev-btn mb-0",children:"Previous"}),u.jsx(et,{to:"/listings/added",className:"btn btn-success mb-0",children:"Add Listing"})]})]})},cm=()=>{const{goToStep:n,activeStep:e}=zn();return u.jsxs("div",{className:"bs-stepper-header pb-5",role:"tablist",children:[u.jsx("div",{className:`step ${e===0&&"active"}`,onClick:()=>n(0),children:u.jsxs("div",{className:"text-center",children:[u.jsx("button",{type:"button",className:"btn btn-link step-trigger mb-0",role:"tab",id:"steppertrigger1","aria-controls":"step-1",children:u.jsx("span",{className:"bs-stepper-circle",children:"1"})}),u.jsx("h6",{className:"bs-stepper-label d-none d-md-block",children:"Basic Information"})]})}),u.jsx("div",{className:"line"}),u.jsx("div",{className:`step ${e===1&&"active"}`,onClick:()=>n(1),children:u.jsxs("div",{className:"text-center",children:[u.jsx("button",{type:"button",className:"btn btn-link step-trigger mb-0",role:"tab",id:"steppertrigger2","aria-controls":"step-2",children:u.jsx("span",{className:"bs-stepper-circle",children:"2"})}),u.jsx("h6",{className:"bs-stepper-label d-none d-md-block",children:"Detailed Information"})]})}),u.jsx("div",{className:"line"}),u.jsx("div",{className:`step ${e===2&&"active"}`,onClick:()=>n(2),children:u.jsxs("div",{className:"text-center",children:[u.jsx("button",{type:"button",className:"btn btn-link step-trigger mb-0",role:"tab",id:"steppertrigger3","aria-controls":"step-3",children:u.jsx("span",{className:"bs-stepper-circle",children:"3"})}),u.jsx("h6",{className:"bs-stepper-label d-none d-md-block",children:"Price & Policy"})]})})]})},um=()=>{const n=Bo({listingName:Ur().required("Please enter your listing name"),usageType:Ur().required("Please select usage type"),shortDescription:Ur().required("Please enter a short description"),thumbnailImage:Mo().required("Thumbnail Image is required")}),{control:e}=Ho({resolver:Do(n)});return u.jsx("section",{children:u.jsx(Hn,{children:u.jsx("div",{className:"bs-stepper stepper-outline",children:u.jsxs(Vo,{header:u.jsx(cm,{}),children:[u.jsx(cc,{control:e}),u.jsx(rm,{control:e}),u.jsx(om,{control:e})]})})})})},hm=[{title:"New! Booking flights from New York âï¸",content:"Find the flexible ticket on flights around the world. Start searching today",time:"05 Feb 2024"},{title:"Sunshine saving are here ð save 30% or more on a stay",time:"24 Aug 2024"}],dm=[{icon:Oo,theme:"light"},{icon:_o,theme:"dark"},{icon:Io,theme:"auto"}],fm=()=>{const{scrollY:n}=Yo(),{removeSession:e}=xo(),{theme:t,updateTheme:s}=No(),{isOpen:r,toggle:i}=wo();return u.jsx("header",{className:$r("navbar-light header-sticky",{"header-sticky-on":n>=400}),children:u.jsx(Jo,{expand:"xl",children:u.jsxs(Hn,{children:[u.jsx(Eo,{}),u.jsx("button",{onClick:i,className:"navbar-toggler ms-auto mx-3 p-0 p-sm-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":r,"aria-label":"Toggle navigation",children:u.jsxs("span",{className:"navbar-toggler-animation",children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})}),u.jsx(Xo,{mobileMenuOpen:r,menuClassName:"ms-auto",showExtraPages:!0}),u.jsxs("ul",{className:"nav flex-row align-items-center list-unstyled ms-xl-auto",children:[u.jsxs(Hr,{drop:"start",className:"nav-item nav-search d-none d-sm-block",children:[u.jsx(zr,{as:et,to:"",className:"arrow-none nav-notification btn btn-light mb-0 p-0",children:u.jsx(Ao,{})}),u.jsx(Gr,{className:"dropdown-animation dropdown-menu-end p-2","aria-labelledby":"searchDropdown",children:u.jsx("div",{className:"nav flex-nowrap align-items-center",children:u.jsx("div",{className:"nav-item w-100",children:u.jsxs("form",{className:"input-group",children:[u.jsx("input",{className:"form-control border-primary",type:"search",placeholder:"Search...","aria-label":"Search"}),u.jsx("button",{className:"btn btn-primary m-0",type:"submit",children:"Search"})]})})})})]}),u.jsxs(Hr,{className:"nav-item ms-2 me-3 ms-md-3",children:[u.jsx(zr,{className:"nav-notification btn btn-light p-0 mb-0 flex-centered arrow-none",children:u.jsx(To,{})}),u.jsx("span",{className:"notif-badge animation-blink"}),u.jsx(Gr,{align:"end",className:"dropdown-animation dropdown-menu-size-md shadow-lg p-0",renderOnMount:!0,children:u.jsxs(gt,{className:"bg-transparent",children:[u.jsxs(mt,{className:"bg-transparent d-flex justify-content-between align-items-center border-bottom",children:[u.jsxs("h6",{className:"m-0",children:["Notifications ",u.jsx("span",{className:"badge bg-danger bg-opacity-10 text-danger ms-2",children:"4 new"})]}),u.jsx(et,{className:"small",to:"",children:"Clear all"})]}),u.jsx(bt,{className:"p-0",children:u.jsx(ec,{className:"list-group-flush list-unstyled p-2",children:(hm??[]).map((a,o)=>u.jsx("li",{children:u.jsxs(tc,{className:$r("list-group-item-action rounded border-0 mb-1 p-3",{"notif-unread":o===0}),children:[u.jsx("h6",{className:"mb-2",children:a.title}),a.content&&u.jsx("p",{className:"mb-0 small",children:a.content}),u.jsx("span",{children:a.time})]})},o))})}),u.jsx(Zo,{className:"bg-transparent text-center border-top",children:u.jsx(et,{to:"",className:"btn btn-sm btn-link mb-0 p-0",children:"See all incoming activity"})})]})})]}),u.jsxs(Hr,{className:"nav-item  dropdown",autoClose:"outside",children:[u.jsx(zr,{className:"avatar avatar-sm p-0 arrow-none mb-0 border-0",id:"profileDropdown",role:"button",children:u.jsx("img",{className:"avatar-img rounded-2",src:Vi,alt:"avatar"})}),u.jsxs(Gr,{align:"end",className:"dropdown-animation dropdown-menu-end shadow pt-3","aria-labelledby":"profileDropdown",renderOnMount:!0,children:[u.jsx("li",{className:"px-3 mb-3",children:u.jsxs("div",{className:"d-flex align-items-center",children:[u.jsx("div",{className:"avatar me-3",children:u.jsx("img",{className:"avatar-img rounded-circle shadow",src:Vi,alt:"avatar"})}),u.jsxs("div",{children:[u.jsx("h6",{className:"h6 mt-2 mt-sm-0",children:"Lori Ferguson"}),u.jsx("p",{className:"small m-0",children:"example@gmail.com"})]})]})}),u.jsx(Zi,{}),u.jsxs(Bs,{children:[u.jsx(So,{className:" fa-fw me-2"}),"My Bookings"]}),u.jsxs(Bs,{children:[u.jsx(Lo,{className:" fa-fw me-2"}),"My Wishlist"]}),u.jsxs(Bs,{children:[u.jsx(Co,{className:" fa-fw me-2"}),"Settings"]}),u.jsxs(Bs,{children:[u.jsx(jo,{className:" fa-fw me-2"}),"Help Center"]}),u.jsxs(Bs,{className:"bg-danger-soft-hover",onClick:e,children:[u.jsx(qo,{className:" fa-fw me-2"}),"Sign Out"]}),u.jsx(Zi,{}),u.jsx("li",{children:u.jsxs("div",{className:"nav-pills-primary-soft theme-icon-active d-flex justify-content-between align-items-center p-2 pb-0",children:[u.jsx("span",{children:"Mode:"}),(dm??[]).map((a,o)=>{const h=a.icon;return u.jsx(sc,{overlay:u.jsx(nc,{children:Qo(a.theme)}),children:u.jsx("button",{onClick:()=>s(a.theme),type:"button",className:$r("btn btn-link nav-link text-primary-hover mb-0 p-0",{active:t===a.theme}),"data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":"Light",children:u.jsx(h,{})})},a.theme+o)})]})})]})]})]})]})})})},n1=()=>u.jsxs(u.Fragment,{children:[u.jsx(ko,{title:"Listings - Add Listing"}),u.jsx(fm,{}),u.jsxs("main",{children:[u.jsx(ic,{}),u.jsx(um,{})]}),u.jsx(rc,{})]});export{n1 as default};
